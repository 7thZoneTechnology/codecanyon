/*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);
/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function d(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})}var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.VERSION="3.3.5",c.TRANSITION_DURATION=150,c.prototype.close=function(b){function g(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.closest(".alert")),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",g).emulateTransitionEnd(c.TRANSITION_DURATION):g())};var e=a.fn.alert;a.fn.alert=d,a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})}var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.VERSION="3.3.5",b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=c,a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var d=a(b.target);d.hasClass("btn")||(d=d.closest(".btn")),c.call(d,"toggle"),a(b.target).is('input[type="radio"]')||a(b.target).is('input[type="checkbox"]')||b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})}var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};b.VERSION="3.3.5",b.TRANSITION_DURATION=600,b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},b.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},b.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},b.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){if(!this.sliding)return this.slide("next")},b.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},b.prototype.slide=function(c,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(c,e),g=this.interval,h="next"==c?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(c),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([c,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(b.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=c,a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(b){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),c.call(f,g),h&&f.data("bs.carousel").to(h),b.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function c(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function d(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&/show|hide/.test(c)&&(f.toggle=!1),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})}var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.$trigger=a('[data-toggle="collapse"][href="#'+c.id+'"],[data-toggle="collapse"][data-target="#'+c.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};b.VERSION="3.3.5",b.TRANSITION_DURATION=350,b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(c=e.data("bs.collapse"),c&&c.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(d.call(e,"hide"),c||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(b.TRANSITION_DURATION)[g](this.$element[0][i])}}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=a.Event("hide.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.dimension();this.$element[d](this.$element[d]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[d](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(b.TRANSITION_DURATION):e.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},b.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(b,d){var e=a(d);this.addAriaAndCollapsedClass(c(e),e)},this)).end()},b.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=d,a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(b){var e=a(this);e.attr("data-target")||b.preventDefault();var f=c(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();d.call(f,h)})}(jQuery),+function(a){"use strict";function e(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function f(d){d&&3===d.which||(a(b).remove(),a(c).each(function(){var b=a(this),c=e(b),f={relatedTarget:this};c.hasClass("open")&&(d&&"click"==d.type&&/input|textarea/i.test(d.target.tagName)&&a.contains(c[0],d.target)||(c.trigger(d=a.Event("hide.bs.dropdown",f)),d.isDefaultPrevented()||(b.attr("aria-expanded","false"),c.removeClass("open").trigger("hidden.bs.dropdown",f))))}))}function g(b){return this.each(function(){var c=a(this),e=c.data("bs.dropdown");e||c.data("bs.dropdown",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var b=".dropdown-backdrop",c='[data-toggle="dropdown"]',d=function(b){a(b).on("click.bs.dropdown",this.toggle)};d.VERSION="3.3.5",d.prototype.toggle=function(b){var c=a(this);if(!c.is(".disabled, :disabled")){var d=e(c),g=d.hasClass("open");if(f(),!g){"ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",f);var h={relatedTarget:this};if(d.trigger(b=a.Event("show.bs.dropdown",h)),b.isDefaultPrevented())return;c.trigger("focus").attr("aria-expanded","true"),d.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},d.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=e(d),g=f.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&f.find(c).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=f.find(".dropdown-menu"+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=g,a.fn.dropdown.Constructor=d,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",f).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",c,d.prototype.toggle).on("keydown.bs.dropdown.data-api",c,d.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",d.prototype.keydown)}(jQuery),+function(a){"use strict";function c(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})}var b=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.VERSION="3.3.5",b.TRANSITION_DURATION=300,b.BACKDROP_TRANSITION_DURATION=150,b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},b.prototype.show=function(c){var d=this,e=a.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:c});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(b.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},b.prototype.hide=function(c){c&&c.preventDefault(),c=a.Event("hide.bs.modal"),this.$element.trigger(c),this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(b.TRANSITION_DURATION):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},b.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(c){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!c)return;f?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):c()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),c&&c()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):g()}else c&&c()},b.prototype.handleUpdate=function(){this.adjustDialog()},b.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},b.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},b.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},b.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},b.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},b.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=c,a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&b.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),c.call(f,g,this)})}(jQuery),+function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;!e&&/destroy|hide/.test(c)||(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})}var b=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};b.VERSION="3.3.5",b.TRANSITION_DURATION=150,b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},b.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},b.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var c=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(c.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(b.TRANSITION_DURATION):q()}},b.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(c){function g(){"in"!=d.hoverState&&e.detach(),d.$element.removeAttr("aria-describedby").trigger("hidden.bs."+d.type),c&&c()}var d=this,e=a(this.$tip),f=a.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.one("bsTransitionEnd",g).emulateTransitionEnd(b.TRANSITION_DURATION):g(),this.hoverState=null,this},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},b.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=c,a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;!e&&/destroy|hide/.test(c)||(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})}var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.VERSION="3.3.5",b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=c,a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.5",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var g,a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),c=this.options.offset+b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget;if(this.scrollHeight!=b&&this.refresh(),a>=c)return f!=(g=e[e.length-1])&&this.activate(g);if(f&&a<d[0])return this.activeTarget=null,this.clear();for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(void 0===d[g+1]||a<d[g+1])&&this.activate(e[g])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})}var b=function(b){this.element=a(b)};b.VERSION="3.3.5",b.TRANSITION_DURATION=150,b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},b.prototype.activate=function(c,d,e){function h(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),c.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),g?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade"),c.parent(".dropdown-menu").length&&c.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var f=d.find("> .active"),g=e&&a.support.transition&&(f.length&&f.hasClass("fade")||!!d.find("> .fade").length);f.length&&g?f.one("bsTransitionEnd",h).emulateTransitionEnd(b.TRANSITION_DURATION):h(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=c,a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(b){b.preventDefault(),c.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})}var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};b.VERSION="3.3.5",b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0,target:window},b.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,c,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-c-f})}};var d=a.fn.affix;a.fn.affix=c,a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),d=b.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),c.call(b,d)})})}(jQuery);
(function(){var is_webkit=navigator.userAgent.toLowerCase().indexOf('webkit')>-1,is_opera=navigator.userAgent.toLowerCase().indexOf('opera')>-1,is_ie=navigator.userAgent.toLowerCase().indexOf('msie')>-1;if((is_webkit||is_opera||is_ie)&&document.getElementById&&window.addEventListener){window.addEventListener('hashchange',function(){var id=location.hash.substring(1),element;if(!(/^[A-z0-9_-]+$/.test(id))){return;}
element=document.getElementById(id);if(element){if(!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))){element.tabIndex=-1;}
element.focus();}},false);}})();
var addComment={moveForm:function(a,b,c,d){var e,f,g,h,i=this,j=i.I(a),k=i.I(c),l=i.I("cancel-comment-reply-link"),m=i.I("comment_parent"),n=i.I("comment_post_ID"),o=k.getElementsByTagName("form")[0];if(j&&k&&l&&m&&o){i.respondId=c,d=d||!1,i.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",k.parentNode.insertBefore(e,k)),j.parentNode.insertBefore(k,j.nextSibling),n&&d&&(n.value=d),m.value=b,l.style.display="",l.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{for(var p=0;p<o.elements.length;p++)if(f=o.elements[p],h=!1,"getComputedStyle"in window?g=window.getComputedStyle(f):document.documentElement.currentStyle&&(g=f.currentStyle),(f.offsetWidth<=0&&f.offsetHeight<=0||"hidden"===g.visibility)&&(h=!0),"hidden"!==f.type&&!f.disabled&&!h){f.focus();break}}catch(q){}return!1}},I:function(a){return document.getElementById(a)}};
/*!
 * Twitter Embeddable Widget
 * https://dev.twitter.com/web/javascript/loading
 */
window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));
!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
function WDIInstagram(args)
{this.access_tokens=[];this.filters=[];if(typeof args!='undefined'){if(typeof args.access_tokens!='undefined'){this.access_tokens=args.access_tokens;}
if(typeof args.filters!='undefined'){this.filters=args.filters;}}
var _this=this;this.statusCode={429:function()
{console.log(' 429: Too many requests. Try after one hour');},}
this.getFilter=function(methodName)
{var filters=_this.filters;if(typeof filters=="undefined"){return false;}
for(var i=0;i<filters.length;i++){if(filters[i].where==methodName){if(typeof filters[i].what=='object'&&filters[i].what.length==2){if(typeof window[filters[i].what[0]]!='undefined'){if(typeof window[filters[i].what[0]][filters[i].what[1]]=='function'){return window[filters[i].what[0]][filters[i].what[1]];}}}else
if(typeof filters[i].what=='string'){if(typeof window[filters[i].what]=='function'){return window[filters[i].what];}}else
if(typeof filters[i].what=='function'){return filters[i].what;}else{return false;}}}
return false;}
function getAccessToken()
{var access_tokens=_this.access_tokens,index=parseInt(Math.random(0,1)*access_tokens.length);return access_tokens[index];}
this.addToken=function(token)
{if(typeof token=='string'){_this.access_tokens.push(token);}}
this.getTagRecentMedia=function(tagname,args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode,errorFlag=false,argFlag=false,filter=this.getFilter('getTagRecentMedia'),baseUrl='https://api.instagram.com/v1/tags/'+tagname+'/media/recent?access_token='+getAccessToken();if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}
if('error'in args){errorFlag=true;}
if('args'in args){argFlag=true;}else{args.args={};}
if('count'in args){args['count']=parseInt(args['count']);if(!Number.isInteger(args['count'])||args['count']<=0){args.count=33;}}else{args.count=33;}
baseUrl+='&count='+args.count;if('min_tag_id'in args){baseUrl+='&min_tag_id='+args.min_tag_id;}
if('max_tag_id'in args){baseUrl+='&max_tag_id='+args.max_tag_id;}}
jQuery.ajax({type:'POST',url:baseUrl,dataType:'jsonp',success:function(response)
{if(typeof response["data"]==="undefined")response["data"]=[];if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.searchForTagsByName=function(tagname,args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode;errorFlag=false;filter=this.getFilter('searchForTagsByName');if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}}
jQuery.ajax({type:'POST',url:'https://api.instagram.com/v1/tags/search?q='+tagname+'&access_token='+getAccessToken(),dataType:'jsonp',success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.searchForUsersByName=function(username,args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode,errorFlag=false,filter=this.getFilter('searchForUsersByName');if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:'https://api.instagram.com/v1/users/search?q='+username+'&access_token='+getAccessToken(),success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
response.args=args;window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
response.args=args;window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments);}
response.args=args;args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:this.statusCode});}
this.getRecentLikedMedia=function(args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode,errorFlag=false,filter=this.getFilter('getRecentLikedMedia'),baseUrl='https://api.instagram.com/v1/users/self/media/liked?access_token='+getAccessToken();if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}
if('args'in args){argFlag=true;}else{args.args={};}
if('count'in args){args['count']=parseInt(args['count']);if(!Number.isInteger(args['count'])||args['count']<=0){args.count=20;}}else{args.count=20;}
baseUrl+='&count='+args.count;if('next_max_like_id'in args){baseUrl+='&next_max_like_id='+args.next_max_like_id;}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:baseUrl,success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.getUserRecentMedia=function(user_id,args)
{var instagram=this,noArgument=false,successFlag=false,argFlag=false,statusCode=this.statusCode,errorFlag=false,filter=this.getFilter('getUserRecentMedia'),baseUrl='https://api.instagram.com/v1/users/'+user_id+'/media/recent/?access_token='+getAccessToken();if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}
if('args'in args){argFlag=true;}else{args.args={};}
if('error'in args){errorFlag=true;}
if('count'in args){args['count']=parseInt(args['count']);if(!Number.isInteger(args['count'])||args['count']<=0){args.count=33;}}else{args.count=33;}
baseUrl+='&count='+args.count;if('min_id'in args){baseUrl+='&min_id='+args.min_id;}
if('max_id'in args){baseUrl+='&max_id='+args.max_id;}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:baseUrl,success:function(response)
{if(typeof response["data"]==="undefined")response["data"]=[];if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.getSelfRecentMedia=function(args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode;errorFlag=false,filter=this.getFilter('getSelfRecentMedia'),baseUrl='https://api.instagram.com/v1/users/self/media/recent/?access_token='+getAccessToken();if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}
if('count'in args){args['count']=parseInt(args['count']);if(!Number.isInteger(args['count'])||args['count']<=0){args.count=33;}}else{args.count=33;}
baseUrl+='&count='+args.count;if('min_id'in args){baseUrl+='&min_id='+args.min_id;}
if('max_id'in args){baseUrl+='&max_id='+args.max_id;}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:baseUrl,success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.getUserInfo=function(user_id,args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode,errorFlag=false,filter=this.getFilter('getUserInfo');if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:'https://api.instagram.com/v1/users/'+user_id+'/?access_token='+getAccessToken(),success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.getSelfInfo=function(args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode,errorFlag=false,filter=this.getFilter('getSelfInfo');if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:'https://api.instagram.com/v1/users/self/?access_token='+getAccessToken(),success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.getRecentMediaComments=function(media_id,args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode,errorFlag=false,filter=this.getFilter('getRecentMediaComments');if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:'https://api.instagram.com/v1/media/'+media_id+'/comments?access_token='+getAccessToken(),success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.getRecentMediaLikes=function(media_id,args)
{var instagram=this,noArgument=false,successFlag=false,statusCode=this.statusCode,errorFlag=false,filter=this.getFilter('getRecentMediaLikes');if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:'https://api.instagram.com/v1/media/'+media_id+'/likes?access_token='+getAccessToken(),success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}
this.requestByUrl=function(requestUrl,args)
{var instagram=this,noArgument=false,successFlag=false,errorFlag=false,argFlag=false,statusCode=this.statusCode,filter=this.getFilter('requestByUrl'),urlParts,urlPart;urlParts=requestUrl.split('?')[1].split('&');for(var i=0;i<urlParts.length;i++){urlParts[i]=urlParts[i].split('=');if(urlParts[i][0]=='access_token'){urlParts[i][1]=getAccessToken();}
urlParts[i]=urlParts[i].join('=');}
urlParts=urlParts.join('&');requestUrl=requestUrl.split('?')[0]+'?'+urlParts;if(typeof args=='undefined'||args.length===0){noArgument=true;}else{if('success'in args){successFlag=true;}
if('args'in args){argFlag=true;}else{args.args={};}
if('error'in args){errorFlag=true;}
if('statusCode'in args){statusCode=args['statusCode'];}}
jQuery.ajax({type:'POST',dataType:'jsonp',url:requestUrl,success:function(response)
{if(successFlag){if(typeof args.success=='object'&&args.success.length==2){if(typeof window[args.success[0]]!='undefined'){if(typeof window[args.success[0]][args.success[1]]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success[0]][args.success[1]](response);}}}else
if(typeof args.success=='string'){if(typeof window[args.success]=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
window[args.success](response);}}else
if(typeof args.success=='function'){if(filter){response=filter(response,instagram.filterArguments,args.args);}
args.success(response);}}},error:function(response)
{if(errorFlag){if(typeof args['error']=='object'&&args['error'].length==2){if(typeof window[args['error'][0]][args['error'][1]]=='function'){window[args['error'][0]][args['error'][1]](response);}}else
if(typeof args['error']=='string'){if(typeof window[args['error']]=='function'){window[args['error']](response);}}else
if(typeof args['error']=='function'){args['error'](response);}}},statusCode:statusCode});}};

(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
if(typeof wdi_front=='undefined'){wdi_front={type:'not_declared'};}
wdi_front.detectEvent=function()
{var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));if(isMobile){return"touchend";}else{return'click';}}
wdi_front.show_alert=function(message)
{if(wdi_front_messages.show_alerts){alert(message);}
else{console.log('%c'+message,"color:#cc0000;");}}
wdi_front.globalInit=function()
{var num=wdi_front['feed_counter'];if(typeof wdi_ajax.ajax_response!="undefined"){var init_feed_counter=wdi_feed_counter_init.wdi_feed_counter_init;}
else{var init_feed_counter=0;}
for(var i=init_feed_counter;i<=num;i++){var currentFeed=new WDIFeed(window['wdi_feed_'+i]);currentFeed.instagram=new WDIInstagram();currentFeed.instagram.filterArguments={feed:currentFeed};currentFeed.instagram.filters=[{'where':'getUserRecentMedia','what':function(response,args,cArgs)
{return args.feed.conditionalFilter(response,cArgs);}},{'where':'getTagRecentMedia','what':function(response,args,cArgs)
{return args.feed.conditionalFilter(response,cArgs);}},{'where':'getRecentLikedMedia','what':function(response,args,cArgs)
{return args.feed.conditionalFilter(response,cArgs);}},{'where':'requestByUrl','what':function(response,args,cArgs)
{return args.feed.conditionalFilter(response,cArgs);}},];currentFeed.instagram.addToken(currentFeed['feed_row']['access_token']);wdi_front.access_token=currentFeed['feed_row']['access_token'];currentFeed.dataStorageRaw=[];currentFeed.dataStorage=[];currentFeed.dataStorageList=[];currentFeed.allResponseLength=0;currentFeed.currentResponseLength=0;currentFeed.temproraryUsersData=[];currentFeed.removedUsers=0;currentFeed.nowLoadingImages=true;currentFeed.imageIndex=0;currentFeed.resIndex=0;currentFeed.currentPage=1;currentFeed.userSortFlags=[];currentFeed.customFilterChanged=false;currentFeed.maxConditionalFiltersRequestCount=10;currentFeed.instagramRequestCounter=0;currentFeed.mediaRequestsDone=false;currentFeed.conditionalFilterBuffer=[];currentFeed.stopInfiniteScrollFlag=false;if(currentFeed.feed_row.feed_type=='masonry'){currentFeed.displayedData=[];}
if(currentFeed.feed_row.feed_display_view=='pagination'){currentFeed.feed_row.resort_after_load_more=0;if(currentFeed.feed_row.feed_type!='image_browser'){currentFeed.feed_row.load_more_number=parseInt(currentFeed.feed_row.pagination_per_page_number);currentFeed.feed_row.number_of_photos=(1+parseInt(currentFeed.feed_row.pagination_preload_number))*currentFeed.feed_row.load_more_number;}else{currentFeed.feed_row.number_of_photos=1+parseInt(currentFeed.feed_row.image_browser_preload_number);currentFeed.feed_row.load_more_number=parseInt(currentFeed.feed_row.image_browser_load_number);}
currentFeed.freeSpaces=(Math.floor(currentFeed.feed_row.pagination_per_page_number/currentFeed.feed_row.number_of_columns)+1)*currentFeed.feed_row.number_of_columns-currentFeed.feed_row.pagination_per_page_number;}else{currentFeed.freeSpaces=0;}
currentFeed.galleryBox=function(image_id)
{wdi_spider_createpopup(wdi_url.ajax_url+'?gallery_id='+this.feed_row['id']+'&image_id='+image_id,wdi_front.feed_counter,this.feed_row['lightbox_width'],this.feed_row['lightbox_height'],1,'testpopup',5,this);}
wdi_responsive.columnControl(currentFeed);if(currentFeed.feed_row.feed_type=='masonry'){jQuery(window).trigger('resize');}
wdi_front.bindEvents(currentFeed);window['wdi_feed_'+i]=currentFeed;wdi_front.init(currentFeed);}}
wdi_front.init=function(currentFeed)
{jQuery('.wdi_js_error').remove();currentFeed.photoCounter=currentFeed.feed_row["number_of_photos"];if(currentFeed.feed_row.liked_feed=='liked'){currentFeed.feed_users=['self'];}
else
if(wdi_front.isJsonString(currentFeed.feed_row.feed_users)){currentFeed.feed_users=JSON.parse(currentFeed.feed_row.feed_users);if(wdi_front.updateUsersIfNecessary(currentFeed)){return;};}else{wdi_front.show_alert(wdi_front_messages.invalid_users_format);return;}
currentFeed.dataCount=currentFeed.feed_users.length;for(var i=0;i<currentFeed.dataCount;i++){wdi_front.instagramRequest(i,currentFeed);}
if(currentFeed.feed_row["number_of_photos"]>0){wdi_front.ajaxLoader(currentFeed);}
if(currentFeed['feed_row']['display_header']==='1'){wdi_front.show('header',currentFeed);}
if(currentFeed['feed_row']['show_usernames']==='1'){wdi_front.show('users',currentFeed);}}
wdi_front.isJsonString=function(str)
{try{JSON.parse(str);}catch(e){return false;}
return true;}
wdi_front.instagramRequest=function(id,currentFeed)
{var feed_users=currentFeed.feed_users,_this=this;if(typeof feed_users[id]==='string'&&feed_users[id]==='self'){currentFeed.instagram.getRecentLikedMedia({success:function(response)
{currentFeed.mediaRequestsDone=true;response=_this.checkMediaResponse(response);if(response!=false){_this.saveSelfUserData(response,currentFeed);}}});}
else
if(this.getInputType(feed_users[id]['username'])=='hashtag'){currentFeed.instagram.getTagRecentMedia(this.stripHashtag(feed_users[id]['username']),{success:function(response)
{currentFeed.mediaRequestsDone=true;response=_this.checkMediaResponse(response);if(response!=false){_this.saveUserData(response,currentFeed.feed_users[id],currentFeed);}}});}
else
if(this.getInputType(feed_users[id]['username'])=='user'){currentFeed.instagram.getUserRecentMedia(feed_users[id]['id'],{success:function(response)
{currentFeed.mediaRequestsDone=true;response=_this.checkMediaResponse(response);if(response!=false){_this.saveUserData(response,currentFeed.feed_users[id],currentFeed);}}});}}
wdi_front.isHashtag=function(str)
{return(str[0]==='#');}
wdi_front.saveUserData=function(data,user,currentFeed)
{data['username']=user.username;data['user_id']=user.id;if(data['user_id'][0]==='#'){data['data']=wdi_front.appendRequestHashtag(data['data'],data['user_id']);}
currentFeed.usersData.push(data);currentFeed.currentResponseLength=wdi_front.getArrayContentLength(currentFeed.usersData,'data');currentFeed.allResponseLength+=currentFeed.currentResponseLength;if(currentFeed.dataCount==currentFeed.usersData.length){if(currentFeed.currentResponseLength<currentFeed.feed_row.number_of_photos&&!wdi_front.userHasNoPhoto(currentFeed)){wdi_front.loadMore('initial-keep',currentFeed);}else{wdi_front.displayFeed(currentFeed);wdi_front.applyFilters(currentFeed);if(!wdi_front.activeUsersCount(currentFeed)){if(currentFeed.feed_row.feed_display_view=='load_more_btn'){var feed_container=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter);feed_container.find('.wdi_load_more').addClass('wdi_hidden');feed_container.find('.wdi_spinner').addClass('wdi_hidden');}};}}}
wdi_front.saveSelfUserData=function(data,currentFeed)
{data['username']='';data['user_id']='';currentFeed.usersData.push(data);currentFeed.currentResponseLength=wdi_front.getArrayContentLength(currentFeed.usersData,'data');currentFeed.allResponseLength+=currentFeed.currentResponseLength;if(currentFeed.dataCount==currentFeed.usersData.length){if(currentFeed.currentResponseLength<currentFeed.feed_row.number_of_photos&&!wdi_front.userHasNoPhoto(currentFeed)){wdi_front.loadMore('initial-keep',currentFeed);}else{wdi_front.displayFeed(currentFeed);wdi_front.applyFilters(currentFeed);if(!wdi_front.activeUsersCount(currentFeed)){if(currentFeed.feed_row.feed_display_view=='load_more_btn'){var feed_container=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter);feed_container.find('.wdi_load_more').addClass('wdi_hidden');feed_container.find('.wdi_spinner').addClass('wdi_hidden');}};}}}
wdi_front.userHasNoPhoto=function(currentFeed,cstData)
{var counter=0;var data=currentFeed.usersData;if(typeof cstData!='undefined'){data=cstData;}
for(var i=0;i<data.length;i++){if(currentFeed.feed_row.liked_feed==='liked'){if(typeof data[i]['pagination']['next_max_like_id']=='undefined'){counter++}}
else{if(typeof data[i]['pagination']['next_max_id']=='undefined'){counter++}}}
if(counter==data.length){return 1;}else{return 0;}}
wdi_front.appendRequestHashtag=function(data,hashtag)
{for(var i=0;i<data.length;i++){data[i]['wdi_hashtag']=hashtag;}
return data;}
wdi_front.displayFeed=function(currentFeed,load_more_number)
{if(currentFeed.customFilterChanged==false){var data=wdi_front.feedSort(currentFeed,load_more_number);}
var frontendCustomFilterClicked=currentFeed.customFilterChanged;if(currentFeed.customFilterChanged==true){var data=currentFeed.customFilteredData;currentFeed.parsedData=wdi_front.parseLighboxData(currentFeed,true);}
if(currentFeed.feed_row.resort_after_load_more!='1'){if(currentFeed.customFilterChanged==false){currentFeed.dataStorageList=currentFeed.dataStorageList.concat(data);}}else{if(currentFeed.customFilterChanged==false){currentFeed.dataStorageList=data;}}
if(currentFeed.feed_row.feed_type=='masonry'){wdi_front.masonryDisplayFeedItems(data,currentFeed);}
if(currentFeed.feed_row.feed_type=='thumbnails'||currentFeed.feed_row.feed_type=='blog_style'||currentFeed.feed_row.feed_type=='image_browser'){wdi_front.displayFeedItems(data,currentFeed);}
var dataLength=wdi_front.getDataLength(currentFeed);if(dataLength<currentFeed.photoCounter&&!frontendCustomFilterClicked&&currentFeed.instagramRequestCounter<=currentFeed.maxConditionalFiltersRequestCount&&!wdi_front.allDataHasFinished(currentFeed)){wdi_front.loadMore('',currentFeed);}else{wdi_front.allImagesLoaded(currentFeed);}
if(currentFeed.instagramRequestCounter>currentFeed.maxConditionalFiltersRequestCount){wdi_front.allImagesLoaded(currentFeed);if(data.length==0){currentFeed.stopInfiniteScrollFlag=true;}}
if(currentFeed.feed_row.feed_display_view=='pagination'&&currentFeed.currentPage<currentFeed.paginator){jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter).find('#wdi_last_page').removeClass('wdi_disabled');}
currentFeed.instagramRequestCounter=0;currentFeed.conditionalFilterBuffer=[];wdi_front.updateUsersImages(currentFeed);}
wdi_front.updateUsersImages=function(currentFeed)
{var elements=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter).find('.wdi_single_user .wdi_user_img_wrap img');elements.each(function()
{if(jQuery(this).attr('src')==wdi_url.plugin_url+'../images/missing.png'||jQuery(this).attr('src')==''){if(currentFeed.feed_row.liked_feed=='liked'){return;}
for(var j=0;j<currentFeed.usersData.length;j++){if(currentFeed.usersData[j]['username']==jQuery(this).parent().parent().find('h3').text()){if(currentFeed.usersData[j]['data'].length!=0){jQuery(this).attr('src',currentFeed.usersData[j]['data'][0]['images']['thumbnail']['url']);}}}}});}
wdi_front.masonryDisplayFeedItems=function(data,currentFeed)
{var masonryColEnds=[];var masonryColumns=[];if(jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").length==0){return;}
jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' .wdi_masonry_column').each(function()
{if(currentFeed.feed_row.resort_after_load_more==1){jQuery(this).html('');currentFeed.imageIndex=0;}
if(currentFeed.customFilterChanged==true){jQuery(this).html('');currentFeed.imageIndex=0;}
if(currentFeed.feed_row.feed_display_view=='pagination'){masonryColEnds.push(0);}else{masonryColEnds.push(jQuery(this).height());}
masonryColumns.push(jQuery(this));});if(currentFeed.customFilterChanged==true){currentFeed.customFilterChanged=false;}
for(var i=0;i<data.length;i++){currentFeed.displayedData.push(data[i]);if(data[i]['type']=='image'){var photoTemplate=wdi_front.getPhotoTemplate(currentFeed);}else if(data[i].hasOwnProperty('videos')){var photoTemplate=wdi_front.getVideoTemplate(currentFeed);}
else{var photoTemplate=wdi_front.getSliderTemplate(currentFeed);}
var rawItem=data[i];var item=wdi_front.createObject(rawItem,currentFeed);var html=photoTemplate(item);var shortCol=wdi_front.array_min(masonryColEnds);var imageResolution=wdi_front.getImageResolution(data[i]);masonryColumns[shortCol['index']].html(masonryColumns[shortCol['index']].html()+html);masonryColEnds[shortCol['index']]+=masonryColumns[shortCol['index']].width()*imageResolution;currentFeed.imageIndex++;if(currentFeed.feed_row.feed_display_view=='pagination'){if((i+1)%currentFeed.feed_row.pagination_per_page_number===0){currentFeed.resIndex+=currentFeed.freeSpaces+1;}else{currentFeed.resIndex++;}}}
currentFeed.wdi_loadedImages=0;var columnFlag=false;currentFeed.wdi_load_count=i;var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var feed_wrapper=jQuery('#wdi_feed_'+wdi_feed_counter+' img.wdi_img').on('load',function()
{currentFeed.wdi_loadedImages++;checkLoaded();if(columnFlag===false){wdi_responsive.columnControl(currentFeed,1);columnFlag=true;}});checkLoaded();function checkLoaded()
{if(currentFeed.wdi_load_count===currentFeed.wdi_loadedImages&&currentFeed.wdi_loadedImages!=0){currentFeed.loadedImages=0;currentFeed.wdi_load_count=0;wdi_front.allImagesLoaded(currentFeed);}}
if(currentFeed.paginatorNextFlag==true){wdi_front.updatePagination(currentFeed,'next');}
currentFeed.infiniteScrollFlag=false;}
wdi_front.getImageResolution=function(data)
{var originalWidth=data['images']['standard_resolution']['width'];var originalHeight=data['images']['standard_resolution']['height'];var resolution=originalHeight/originalWidth;return resolution;}
wdi_front.getDataLength=function(currentFeed,customStorage)
{var length=0;if(typeof customStorage==='undefined'){for(var j=0;j<currentFeed.dataStorage.length;j++){length+=currentFeed.dataStorage[j].length;}}else{for(var j=0;j<customStorage.length;j++){length+=customStorage[j].length;}}
return length;}
wdi_front.getArrayContentLength=function(array,data)
{var sum=0;for(var i=0;i<array.length;i++){if(array[i]['finished']=='finished'){continue;}
sum+=array[i][data].length;}
return sum;}
wdi_front.displayFeedItems=function(data,currentFeed)
{if(jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").length==0){return;}
var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var feed_wrapper=jQuery('#wdi_feed_'+wdi_feed_counter+' .wdi_feed_wrapper');if(currentFeed.feed_row['resort_after_load_more']==='1'){feed_wrapper.html('');currentFeed.imageIndex=0;}
if(currentFeed.customFilterChanged==true){feed_wrapper.html('');currentFeed.imageIndex=0;currentFeed.customFilterChanged=false;}
var lastIndex=wdi_front.getImgCount(currentFeed)-data.length-1;if(currentFeed.feed_row.feed_display_view=='pagination'){if(jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' [wdi_page="'+(currentFeed.currentPage-1)+'"]').length<currentFeed.feed_row.load_more_number||data.length==0){currentFeed.currentPage=(--currentFeed.currentPage<=1)?1:currentFeed.currentPage;}}
for(var i=0;i<data.length;i++){if(data[i]['type']=='image'){var photoTemplate=wdi_front.getPhotoTemplate(currentFeed);}else if(data[i].hasOwnProperty('videos')){var photoTemplate=wdi_front.getVideoTemplate(currentFeed);}
else{var photoTemplate=wdi_front.getSliderTemplate(currentFeed);}
var rawItem=data[i];var item=wdi_front.createObject(rawItem,currentFeed);var html=photoTemplate(item);feed_wrapper.html(feed_wrapper.html()+html);currentFeed.imageIndex++;if(currentFeed.feed_row.feed_display_view=='pagination'){if((i+1)%currentFeed.feed_row.pagination_per_page_number===0){currentFeed.resIndex+=currentFeed.freeSpaces+1;}else{currentFeed.resIndex++;}}}
currentFeed.wdi_loadedImages=0;var columnFlag=false;currentFeed.wdi_load_count=i;var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var feed_wrapper=jQuery('#wdi_feed_'+wdi_feed_counter+' img.wdi_img').on('load',function()
{currentFeed.wdi_loadedImages++;checkLoaded();if(columnFlag===false){wdi_responsive.columnControl(currentFeed,1);columnFlag=true;}});function checkLoaded()
{if(currentFeed.wdi_load_count===currentFeed.wdi_loadedImages&&currentFeed.wdi_loadedImages!=0){currentFeed.loadedImages=0;currentFeed.wdi_load_count=0;wdi_front.allImagesLoaded(currentFeed);}}
if(currentFeed.paginatorNextFlag==true){wdi_front.updatePagination(currentFeed,'next');}
currentFeed.infiniteScrollFlag=false;}
wdi_front.checkFeedFinished=function(currentFeed)
{for(var i=0;i<currentFeed.usersData.length;i++){if(typeof currentFeed.usersData[i]['finished']=='undefined'){return false;}}
return true;}
wdi_front.sortingOperator=function(sortImagesBy,sortOrder)
{var operator;switch(sortImagesBy){case'date':{switch(sortOrder){case'asc':{operator=function(a,b)
{return(a['created_time']>b['created_time'])?1:-1;}
break;}
case'desc':{operator=function(a,b)
{return(a['created_time']>b['created_time'])?-1:1;}
break;}}
break;}
case'likes':{switch(sortOrder){case'asc':{operator=function(a,b)
{return(a['likes']['count']<b['likes']['count'])?-1:1;}
break;}
case'desc':{operator=function(a,b)
{return(a['likes']['count']<b['likes']['count'])?1:-1;}
break;}}
break;}
case'comments':{switch(sortOrder){case'asc':{operator=function(a,b)
{return(a['comments']['count']<b['comments']['count'])?-1:1;}
break;}
case'desc':{operator=function(a,b)
{return(a['comments']['count']<b['comments']['count'])?1:-1;}
break;}}
break;}
case'random':{operator=function(a,b)
{var num=Math.random();return(num>0.5)?1:-1;}
break;}}
return operator;}
wdi_front.feedSort=function(currentFeed,load_more_number)
{var sortImagesBy=currentFeed.feed_row['sort_images_by'];var sortOrder=currentFeed.feed_row['display_order'];if(currentFeed.feed_row['resort_after_load_more']==='1'){currentFeed['data']=currentFeed['data'].concat(wdi_front.smartPicker(currentFeed,load_more_number));}else{currentFeed['data']=wdi_front.smartPicker(currentFeed,load_more_number);}
var operator=wdi_front.sortingOperator(sortImagesBy,sortOrder);currentFeed['data'].sort(operator);return currentFeed['data'];}
wdi_front.smartPicker=function(currentFeed,load_more_number)
{var dataStorage=[];var dataLength=0;var readyData=[];var perUser=Math.ceil(currentFeed['feed_row']['number_of_photos']/currentFeed['usersData'].length);var number_of_photos=parseInt(currentFeed['feed_row']['number_of_photos']);var remainder=0;if(load_more_number!=''&&typeof load_more_number!='undefined'&&load_more_number!=null){number_of_photos=parseInt(load_more_number);perUser=Math.ceil(number_of_photos/wdi_front.activeUsersCount(currentFeed));}
var sortOperator=function(a,b)
{return(a['data'].length>b['data'].length)?1:-1;}
var sortOperator1=function(a,b)
{return(a.length()>b.length())?1:-1;}
currentFeed.storeRawData(currentFeed.usersData,'dataStorageRaw');var dataStorageRaw=currentFeed['dataStorageRaw'].sort(sortOperator1);var usersData=currentFeed['usersData'].sort(sortOperator);for(var i=0;i<usersData.length;i++){remainder+=perUser;if(dataStorageRaw[i].length()<=remainder){remainder-=dataStorageRaw[i].length();dataStorage.push(dataStorageRaw[i].getData(dataStorageRaw[i].length()));dataLength+=dataStorage[dataStorage.length-1].length;}else{if(dataLength+remainder>number_of_photos){remainder=number_of_photos-dataLength;}
var pickedData=[];if(currentFeed['auto_trigger']===false){pickedData=pickedData.concat(dataStorageRaw[i].getData(remainder));}else{if(pickedData.length+wdi_front.getDataLength(currentFeed)+wdi_front.getDataLength(currentFeed,dataStorage)<currentFeed['feed_row']['number_of_photos']){pickedData=pickedData.concat(dataStorageRaw[i].getData(remainder));}}
remainder=0;dataLength+=pickedData.length;dataStorage.push(pickedData);}}
for(i=0;i<dataStorage.length;i++){if(typeof currentFeed.dataStorage[i]==='undefined'){currentFeed.dataStorage.push(dataStorage[i]);}else{currentFeed.dataStorage[i]=currentFeed.dataStorage[i].concat(dataStorage[i]);}}
currentFeed.parsedData=wdi_front.parseLighboxData(currentFeed);for(i=0;i<dataStorage.length;i++){readyData=readyData.concat(dataStorage[i]);}
return readyData;}
wdi_front.createObject=function(obj,currentFeed)
{var caption=(obj['caption']!=null)?obj['caption']['text']:'&nbsp';var image_url='';var videoUrl='';if(window.innerWidth>=currentFeed.feed_row.mobile_breakpoint){image_url=obj['images']['standard_resolution']['url'];if(currentFeed.feed_row.feed_type=='blog_style'||currentFeed.feed_row.feed_type=='image_browser'){image_url=obj['link']+'media?size=l';}
if(obj['type']=='video'){videoUrl=obj.hasOwnProperty('videos')?obj['videos']['standard_resolution']['url']:'';}}
if(window.innerWidth>=currentFeed.feed_row.mobile_breakpoint/4&&window.innerWidth<currentFeed.feed_row.mobile_breakpoint){image_url=obj['images']['low_resolution']['url'];if(currentFeed.feed_row.feed_type=='blog_style'||currentFeed.feed_row.feed_type=='image_browser'){image_url=obj['link']+'media?size=l';}
if(obj['type']=='video'){videoUrl=obj.hasOwnProperty('videos')?obj['videos']['low_bandwidth']['url']:'';}}
if(window.innerWidth<currentFeed.feed_row.mobile_breakpoint/4){image_url=obj['images']['thumbnail']['url'];if(currentFeed.feed_row.feed_type=='blog_style'||currentFeed.feed_row.feed_type=='image_browser'){image_url=obj['link']+'media?size=m';}
if(obj['type']=='video'){videoUrl=obj.hasOwnProperty('videos')?obj['videos']['low_resolution']['url']:'';}}
var imageIndex=currentFeed.imageIndex;var wdi_shape='square';var media_standard_h=obj['images']['standard_resolution']['height'];var media_standard_w=obj['images']['standard_resolution']['width'];if(media_standard_h>media_standard_w){wdi_shape='portrait';}
else if(media_standard_h<media_standard_w){wdi_shape='landscape';}
var photoObject={'id':obj['id'],'caption':caption,'image_url':image_url,'likes':obj['likes']['count'],'comments':obj['comments']['count'],'wdi_index':imageIndex,'wdi_res_index':currentFeed.resIndex,'wdi_media_user':obj['user']['username'],'link':obj['link'],'video_url':videoUrl,'wdi_username':obj['user']['username'],'wdi_shape':wdi_shape};return photoObject;}
wdi_front.setPage=function(currentFeed)
{var display_type=currentFeed.feed_row.feed_display_view;var feed_type=currentFeed.feed_row.feed_type;if(display_type!='pagination'){return'';}
var imageIndex=currentFeed.imageIndex;if(feed_type=='image_browser'){var divider=1;}else{var divider=Math.abs(currentFeed.feed_row.pagination_per_page_number);}
currentFeed.paginator=Math.ceil((imageIndex+1)/divider);return currentFeed.paginator;}
wdi_front.getPhotoTemplate=function(currentFeed)
{var page=wdi_front.setPage(currentFeed);var customClass='';var pagination='';var onclick='';var overlayCustomClass='';var thumbClass='fa-arrows-alt';var showUsernameOnThumb='';if(currentFeed.feed_row.feed_type=='blog_style'||currentFeed.feed_row.feed_type=='image_browser'){thumbClass='';}
if(page!=''){pagination='wdi_page="'+page+'"';sourceAttr='src';}else{sourceAttr='src';}
if(page!=''&&page!=1){customClass='wdi_hidden';}
if(currentFeed.feed_row.show_username_on_thumb=='1'){showUsernameOnThumb='<span class="wdi_media_user">@<%= wdi_username%></span>';}
if(currentFeed.feed_row.show_full_description==1&&currentFeed.feed_row.feed_type=='masonry'){customClass+=' wdi_full_caption';}
var onclickevent="";if(currentFeed.feed_row.feed_type!=="blog_style"){if(currentFeed.feed_row.feed_type=='masonry'){onclickevent="wdi_responsive.showMasonryCaption(jQuery(this),"+currentFeed.feed_row.wdi_feed_counter+");"}else{onclickevent="wdi_responsive.showCaption(jQuery(this),"+currentFeed.feed_row.wdi_feed_counter+");";}}
switch(currentFeed.feed_row.feed_item_onclick){case'lightbox':{onclick="onclick=wdi_feed_"+currentFeed.feed_row.wdi_feed_counter+".galleryBox('<%=id%>')";break;}
case'instagram':{onclick='onclick="window.open (\'<%= link%>\',\'_blank\')"';overlayCustomClass='wdi_hover_off';thumbClass='';break;}
case'none':{onclick='';overlayCustomClass='wdi_cursor_off wdi_hover_off';thumbClass='';}}
var wdi_shape_class="<%= wdi_shape == 'square' ? 'wdi_shape_square' : (wdi_shape == 'portrait' ? 'wdi_shape_portrait' : (wdi_shape == 'landscape' ? 'wdi_shape_landscape' : 'wdi_shape_square') ) %>";var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var source='<div class="wdi_feed_item '+customClass+'"  wdi_index=<%= wdi_index%>  wdi_res_index=<%= wdi_res_index%> wdi_media_user=<%= wdi_media_user%> '+pagination+' wdi_type="image" id="wdi_'+wdi_feed_counter+'_<%=id%>">'+'<div class="wdi_photo_wrap">'+'<div class="wdi_photo_wrap_inner">'+'<div class="wdi_photo_img '+wdi_shape_class+'">'+'<img class="wdi_img" '+sourceAttr+'="<%=image_url%>" alt="feed_image" onerror="wdi_front.brokenImageHandler(this);">'+'<div class="wdi_photo_overlay '+overlayCustomClass+'" >'+showUsernameOnThumb+'<div class="wdi_thumb_icon" '+onclick+' style="display:table;width:100%;height:100%;">'+'<div style="display:table-cell;vertical-align:middle;text-align:center;color:white;">'+'<i class="fa '+thumbClass+'"></i>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>';if(currentFeed['feed_row']['show_likes']==='1'||currentFeed['feed_row']['show_comments']==='1'||currentFeed['feed_row']['show_description']==='1'){source+='<div class="wdi_photo_meta">';if(currentFeed['feed_row']['show_likes']==='1'){source+='<div class="wdi_thumb_likes"><i class="fa fa-heart-o">&nbsp;<%= likes%></i></div>';}
if(currentFeed['feed_row']['show_comments']==='1'){source+='<div class="wdi_thumb_comments"><i class="fa fa-comment-o">&nbsp;<%= comments%></i></div>';}
source+='<div class="wdi_clear"></div>';if(currentFeed['feed_row']['show_description']==='1'){source+='<div class="wdi_photo_title" onclick='+onclickevent+' >'+'<%=caption%>'+'</div>';}
source+='</div>';}
source+='</div>';var template=_.template(source);return template;}
wdi_front.getSliderTemplate=function(currentFeed)
{var page=wdi_front.setPage(currentFeed);var customClass='';var pagination='';var onclick='';var overlayCustomClass='';var thumbClass='fa-clone';var showUsernameOnThumb='';if(currentFeed.feed_row.feed_type=='blog_style'||currentFeed.feed_row.feed_type=='image_browser'){thumbClass='';}
if(page!=''){pagination='wdi_page="'+page+'"';sourceAttr='src';}else{sourceAttr='src';}
if(page!=''&&page!=1){customClass='wdi_hidden';}
if(currentFeed.feed_row.show_username_on_thumb=='1'){showUsernameOnThumb='<span class="wdi_media_user">@<%= wdi_username%></span>';}
if(currentFeed.feed_row.show_full_description==1&&currentFeed.feed_row.feed_type=='masonry'){customClass+=' wdi_full_caption';}
var onclickevent="";if(currentFeed.feed_row.feed_type!=="blog_style"){if(currentFeed.feed_row.feed_type=='masonry'){onclickevent="wdi_responsive.showMasonryCaption(jQuery(this),"+currentFeed.feed_row.wdi_feed_counter+");"}else{onclickevent="wdi_responsive.showCaption(jQuery(this),"+currentFeed.feed_row.wdi_feed_counter+");";}}
switch(currentFeed.feed_row.feed_item_onclick){case'lightbox':{onclick="onclick=wdi_feed_"+currentFeed.feed_row.wdi_feed_counter+".galleryBox('<%=id%>')";break;}
case'instagram':{onclick='onclick="window.open (\'<%= link%>\',\'_blank\')"';overlayCustomClass='wdi_hover_off';thumbClass='fa-clone';break;}
case'none':{onclick='';overlayCustomClass='wdi_cursor_off wdi_hover_off';thumbClass='';}}
var wdi_shape_class="<%= wdi_shape == 'square' ? 'wdi_shape_square' : (wdi_shape == 'portrait' ? 'wdi_shape_portrait' : (wdi_shape == 'landscape' ? 'wdi_shape_landscape' : 'wdi_shape_square') ) %>";var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var source='<div class="wdi_feed_item '+customClass+'"  wdi_index=<%= wdi_index%>  wdi_res_index=<%= wdi_res_index%> wdi_media_user=<%= wdi_media_user%> '+pagination+' wdi_type="slideshow" id="wdi_'+wdi_feed_counter+'_<%=id%>">'+'<div class="wdi_photo_wrap">'+'<div class="wdi_photo_wrap_inner">'+'<div class="wdi_photo_img '+wdi_shape_class+'">'+'<img class="wdi_img" '+sourceAttr+'="<%=image_url%>" alt="feed_image" onerror="wdi_front.brokenImageHandler(this);">'+'<div class="wdi_photo_overlay '+overlayCustomClass+'" >'+showUsernameOnThumb+'<div class="wdi_thumb_icon" '+onclick+' style="display:table;width:100%;height:100%;">'+'<div style="display:table-cell;vertical-align:middle;text-align:center;color:white;">'+'<i class="fa '+thumbClass+'"></i>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>';if(currentFeed['feed_row']['show_likes']==='1'||currentFeed['feed_row']['show_comments']==='1'||currentFeed['feed_row']['show_description']==='1'){source+='<div class="wdi_photo_meta">';if(currentFeed['feed_row']['show_likes']==='1'){source+='<div class="wdi_thumb_likes"><i class="fa fa-heart-o">&nbsp;<%= likes%></i></div>';}
if(currentFeed['feed_row']['show_comments']==='1'){source+='<div class="wdi_thumb_comments"><i class="fa fa-comment-o">&nbsp;<%= comments%></i></div>';}
source+='<div class="wdi_clear"></div>';if(currentFeed['feed_row']['show_description']==='1'){source+='<div class="wdi_photo_title" onclick='+onclickevent+' >'+'<%=caption%>'+'</div>';}
source+='</div>';}
source+='</div>';var template=_.template(source);return template;}
wdi_front.replaceToVideo=function(url,index,feed_counter)
{overlayHtml="<video style='width:auto !important; height:auto !important; max-width:100% !important; max-height:100% !important; margin:0 !important;' controls=''>"+"<source src='"+url+"' type='video/mp4'>"+"Your browser does not support the video tag. </video>";jQuery('#wdi_feed_'+feed_counter+' [wdi_index="'+index+'"] .wdi_photo_wrap_inner').html(overlayHtml);jQuery('#wdi_feed_'+feed_counter+' [wdi_index="'+index+'"] .wdi_photo_wrap_inner video').get(0).play();}
wdi_front.getVideoTemplate=function(currentFeed)
{var page=wdi_front.setPage(currentFeed);var customClass='';var pagination='';var thumbClass='fa-play';var onclick='';var overlayCustomClass='';var sourceAttr;var showUsernameOnThumb='';if(page!=''){pagination='wdi_page="'+page+'"';sourceAttr='src';}else{sourceAttr='src';}
if(page!=''&&page!=1){customClass='wdi_hidden';}
if(currentFeed.feed_row.show_username_on_thumb=='1'){showUsernameOnThumb='<span class="wdi_media_user">@<%= wdi_username%></span>';}
if(currentFeed.feed_row.show_full_description==1&&currentFeed.feed_row.feed_type=='masonry'){customClass+=' wdi_full_caption';}
var onclickevent="";if(currentFeed.feed_row.feed_type!=="blog_style"){if(currentFeed.feed_row.feed_type=='masonry'){onclickevent="wdi_responsive.showMasonryCaption(jQuery(this),"+currentFeed.feed_row.wdi_feed_counter+");"}else{onclickevent="wdi_responsive.showCaption(jQuery(this),"+currentFeed.feed_row.wdi_feed_counter+");";}}
switch(currentFeed.feed_row.feed_item_onclick){case'lightbox':{onclick="onclick=wdi_feed_"+currentFeed.feed_row.wdi_feed_counter+".galleryBox('<%=id%>')";break;}
case'instagram':{onclick='onclick="window.open (\'<%= link%>\',\'_blank\')"';overlayCustomClass='wdi_hover_off';thumbClass='fa-play';break;}
case'none':{overlayCustomClass='wdi_cursor_off wdi_hover_off';thumbClass='';if(currentFeed.feed_row.feed_type=='blog_style'||currentFeed.feed_row.feed_type=='image_browser'){onclick="onclick=wdi_front.replaceToVideo('<%= video_url%>','<%= wdi_index%>',"+currentFeed.feed_row.wdi_feed_counter+")";overlayCustomClass='';thumbClass='fa-play';}}}
var wdi_shape_class="<%= wdi_shape == 'square' ? 'wdi_shape_square' : (wdi_shape == 'portrait' ? 'wdi_shape_portrait' : (wdi_shape == 'landscape' ? 'wdi_shape_landscape' : 'wdi_shape_square') ) %>";var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var source='<div class="wdi_feed_item '+customClass+'"  wdi_index=<%= wdi_index%> wdi_res_index=<%= wdi_res_index%> wdi_media_user=<%= wdi_media_user%> '+pagination+' wdi_type="image" id="wdi_'+wdi_feed_counter+'_<%=id%>">'+'<div class="wdi_photo_wrap">'+'<div class="wdi_photo_wrap_inner">'+'<div class="wdi_photo_img '+wdi_shape_class+'">'+'<img class="wdi_img" '+sourceAttr+'="<%=image_url%>" alt="feed_image" onerror="wdi_front.brokenImageHandler(this);">'+'<div class="wdi_photo_overlay '+overlayCustomClass+'" '+onclick+'>'+showUsernameOnThumb+'<div class="wdi_thumb_icon" style="display:table;width:100%;height:100%;">'+'<div style="display:table-cell;vertical-align:middle;text-align:center;color:white;">'+'<i class="fa '+thumbClass+'"></i>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>';if(currentFeed['feed_row']['show_likes']==='1'||currentFeed['feed_row']['show_comments']==='1'||currentFeed['feed_row']['show_description']==='1'){source+='<div class="wdi_photo_meta">';if(currentFeed['feed_row']['show_likes']==='1'){source+='<div class="wdi_thumb_likes"><i class="fa fa-heart-o">&nbsp;<%= likes%></i></div>';}
if(currentFeed['feed_row']['show_comments']==='1'){source+='<div class="wdi_thumb_comments"><i class="fa fa-comment-o">&nbsp;<%= comments%></i></div>';}
source+='<div class="wdi_clear"></div>';if(currentFeed['feed_row']['show_description']==='1'){source+='<div class="wdi_photo_title" onclick='+onclickevent+' >'+'<%=caption%>'+'</div>';}
source+='</div>';}
source+='</div>';var template=_.template(source);return template;}
wdi_front.bindEvents=function(currentFeed)
{if(jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").length==0){return;}
if(currentFeed.feed_row.feed_display_view=='load_more_btn'){jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' .wdi_load_more_container').on(wdi_front.clickOrTouch,function()
{wdi_front.loadMore(jQuery(this).find('.wdi_load_more_wrap'));});}
if(currentFeed.feed_row.feed_display_view=='pagination'){jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' #wdi_next').on(wdi_front.clickOrTouch,function()
{wdi_front.paginatorNext(jQuery(this),currentFeed);});jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' #wdi_prev').on(wdi_front.clickOrTouch,function()
{wdi_front.paginatorPrev(jQuery(this),currentFeed);});jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' #wdi_last_page').on(wdi_front.clickOrTouch,function()
{wdi_front.paginationLastPage(jQuery(this),currentFeed);});jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' #wdi_first_page').on(wdi_front.clickOrTouch,function()
{wdi_front.paginationFirstPage(jQuery(this),currentFeed);});currentFeed.paginatorNextFlag=false;}
if(currentFeed.feed_row.feed_display_view=='infinite_scroll'){jQuery(window).on('scroll',function()
{wdi_front.infiniteScroll(currentFeed);});currentFeed.infiniteScrollFlag=false;}}
wdi_front.infiniteScroll=function(currentFeed)
{if((jQuery(window).scrollTop()+jQuery(window).height()-100)>=jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' #wdi_infinite_scroll').offset().top){if(currentFeed.infiniteScrollFlag===false&&currentFeed.stopInfiniteScrollFlag==false){currentFeed.infiniteScrollFlag=true;wdi_front.loadMore(jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' #wdi_infinite_scroll'),currentFeed);}else
if(currentFeed.stopInfiniteScrollFlag){wdi_front.allImagesLoaded(currentFeed);}}}
wdi_front.paginationFirstPage=function(btn,currentFeed)
{if(currentFeed.paginator==1||currentFeed.currentPage==1){btn.addClass('wdi_disabled');return;}
var oldPage=currentFeed.currentPage;currentFeed.currentPage=1;wdi_front.updatePagination(currentFeed,'custom',oldPage);var last_page_btn=btn.parent().find('#wdi_last_page');last_page_btn.removeClass('wdi_disabled');btn.addClass('wdi_disabled');}
wdi_front.paginationLastPage=function(btn,currentFeed)
{if(currentFeed.paginator==1||currentFeed.currentPage==currentFeed.paginator){return;}
var oldPage=currentFeed.currentPage;currentFeed.currentPage=currentFeed.paginator;wdi_front.updatePagination(currentFeed,'custom',oldPage);btn.addClass('wdi_disabled');var first_page_btn=btn.parent().find('#wdi_first_page');first_page_btn.removeClass('wdi_disabled');}
wdi_front.paginatorNext=function(btn,currentFeed)
{var last_page_btn=btn.parent().find('#wdi_last_page');var first_page_btn=btn.parent().find('#wdi_first_page');currentFeed.paginatorNextFlag=true;if(currentFeed.paginator==currentFeed.currentPage&&!wdi_front.checkFeedFinished(currentFeed)){currentFeed.currentPage++;var number_of_photos=currentFeed.feed_row.number_of_photos;wdi_front.loadMore(btn,currentFeed,number_of_photos);last_page_btn.addClass('wdi_disabled');}else
if(currentFeed.paginator>currentFeed.currentPage){currentFeed.currentPage++;wdi_front.updatePagination(currentFeed,'next');if(currentFeed.paginator>currentFeed.currentPage){last_page_btn.removeClass('wdi_disabled');}else{last_page_btn.addClass('wdi_disabled');}}
first_page_btn.removeClass('wdi_disabled');}
wdi_front.paginatorPrev=function(btn,currentFeed)
{var last_page_btn=btn.parent().find('#wdi_last_page');var first_page_btn=btn.parent().find('#wdi_first_page');if(currentFeed.currentPage==1){first_page_btn.addClass('wdi_disabled');return;}
currentFeed.currentPage--;wdi_front.updatePagination(currentFeed,'prev');last_page_btn.removeClass('wdi_disabled');if(currentFeed.currentPage==1){first_page_btn.addClass('wdi_disabled');}}
wdi_front.updatePagination=function(currentFeed,dir,oldPage)
{var currentFeedString='#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter'];jQuery(currentFeedString+' [wdi_page="'+currentFeed.currentPage+'"]').each(function()
{jQuery(this).removeClass('wdi_hidden');});switch(dir){case'next':{var oldPage=currentFeed.currentPage-1;jQuery(currentFeedString+' .wdi_feed_wrapper').height(jQuery('.wdi_feed_wrapper').height());jQuery(currentFeedString+' [wdi_page="'+oldPage+'"]').each(function()
{jQuery(this).addClass('wdi_hidden');});break;}
case'prev':{var oldPage=currentFeed.currentPage+1;jQuery(currentFeedString+' .wdi_feed_wrapper').height(jQuery('.wdi_feed_wrapper').height());jQuery(currentFeedString+' [wdi_page="'+oldPage+'"]').each(function()
{jQuery(this).addClass('wdi_hidden');});break;}
case'custom':{var oldPage=oldPage;if(oldPage!=currentFeed.currentPage){jQuery(currentFeedString+' .wdi_feed_wrapper').height(jQuery('.wdi_feed_wrapper').height());jQuery(currentFeedString+' [wdi_page="'+oldPage+'"]').each(function()
{jQuery(this).addClass('wdi_hidden');});}
break;}}
currentFeed.paginatorNextFlag=false;jQuery(currentFeedString+' .wdi_feed_wrapper').css('height','auto');jQuery(currentFeedString+' #wdi_current_page').text(currentFeed.currentPage);}
wdi_front.loadMore=function(button,_currentFeed)
{var dataCounter=0;if(button!=''&&typeof button!='undefined'&&button!='initial'&&button!='initial-keep'){var currentFeed=window[button.parent().parent().parent().parent().attr('id')];}
if(typeof _currentFeed!='undefined'){var currentFeed=_currentFeed;}
var activeFilter=0,finishedFilter=0;for(var i=0;i<currentFeed.userSortFlags.length;i++){if(currentFeed.userSortFlags[i].flag===true){activeFilter++;for(var j=0;j<currentFeed.usersData.length;j++){if(currentFeed.userSortFlags[i]['id']===currentFeed.usersData[j]['user_id']){if(currentFeed.usersData[j]['finished']==='finished'){finishedFilter++;}}}}}
if(activeFilter===finishedFilter&&activeFilter!=0){return;}
if(button===''){currentFeed['auto_trigger']=true;}else{currentFeed['auto_trigger']=false;}
wdi_front.ajaxLoader(currentFeed);if(currentFeed.feed_row.feed_type==='masonry'&&currentFeed.feed_row.feed_display_view=='pagination'){jQuery('#wdi_feed_'+wdi_front.feed_counter+' .wdi_full_caption').each(function()
{jQuery(this).find('.wdi_photo_title').trigger(wdi_front.clickOrTouch);});}
for(var i=0;i<currentFeed.usersData.length;i++){if(currentFeed.usersData[i]['finished']==='finished'){dataCounter++;}}
if(dataCounter===currentFeed.usersData.length){wdi_front.allImagesLoaded(currentFeed);jQuery('#wdi_feed_'+currentFeed['feed_row']['wdi_feed_counter']+' .wdi_load_more').remove();}
var usersData=currentFeed['usersData'];currentFeed.loadMoreDataCount=currentFeed.feed_users.length;for(var i=0;i<usersData.length;i++){var pagination=usersData[i]['pagination'];var user={user_id:usersData[i]['user_id'],username:usersData[i]['username']}
if(pagination['next_url']!=''&&pagination['next_url']!=null&&typeof pagination['next_url']!='undefined'){var next_url=pagination['next_url'];wdi_front.loadMoreRequest(user,next_url,currentFeed,button);}else{if(button=='initial-keep'){currentFeed.temproraryUsersData[i]=currentFeed.usersData[i];}
currentFeed.loadMoreDataCount--;wdi_front.checkForLoadMoreDone(currentFeed,button);continue;}}}
wdi_front.loadMoreRequest=function(user,next_url,currentFeed,button)
{if(!currentFeed.mediaRequestsDone){return;}
var usersData=currentFeed['usersData'];var errorMessage='';currentFeed.instagram.requestByUrl(next_url,{success:function(response)
{if(response===''||typeof response=='undefined'||response==null){errorMessage=wdi_front_messages.network_error;currentFeed.loadMoreDataCount--;wdi_front.show_alert(errorMessage);return;}
if(response['meta']['code']!=200){errorMessage=response['meta']['error_message'];currentFeed.loadMoreDataCount--;wdi_front.show_alert(errorMessage);return;}
response['user_id']=user.user_id;response['username']=user.username;for(var i=0;i<currentFeed['usersData'].length;i++){if(response['user_id']===currentFeed['usersData'][i]['user_id']){if(response['user_id'][0]==='#'){response['data']=wdi_front.appendRequestHashtag(response['data'],response['user_id']);}
if(button=='initial-keep'){currentFeed.temproraryUsersData[i]=currentFeed.usersData[i];}
currentFeed['usersData'][i]=response;currentFeed.loadMoreDataCount--;}}
wdi_front.checkForLoadMoreDone(currentFeed,button);}});}
wdi_front.checkForLoadMoreDone=function(currentFeed,button)
{var load_more_number=currentFeed.feed_row['load_more_number'];var number_of_photos=currentFeed.feed_row['number_of_photos'];if(currentFeed.loadMoreDataCount==0){currentFeed.temproraryUsersData=wdi_front.mergeData(currentFeed.temproraryUsersData,currentFeed.usersData);var gettedDataLength=wdi_front.getArrayContentLength(currentFeed.temproraryUsersData,'data');if(button=='initial-keep'){button='initial';}
if(button=='initial'){if(gettedDataLength<number_of_photos&&!wdi_front.userHasNoPhoto(currentFeed,currentFeed.temproraryUsersData)&&currentFeed.instagramRequestCounter<=currentFeed.maxConditionalFiltersRequestCount){wdi_front.loadMore('initial',currentFeed);}else{currentFeed.usersData=currentFeed.temproraryUsersData;wdi_front.displayFeed(currentFeed);wdi_front.applyFilters(currentFeed);currentFeed.temproraryUsersData=[];}}else{if(gettedDataLength<load_more_number&&!wdi_front.userHasNoPhoto(currentFeed,currentFeed.temproraryUsersData)&&currentFeed.instagramRequestCounter<=currentFeed.maxConditionalFiltersRequestCount){wdi_front.loadMore(undefined,currentFeed);}else{currentFeed.usersData=currentFeed.temproraryUsersData;if(!wdi_front.activeUsersCount(currentFeed)){return;}
wdi_front.displayFeed(currentFeed,load_more_number);wdi_front.applyFilters(currentFeed);currentFeed.temproraryUsersData=[];}}}}
wdi_front.allDataHasFinished=function(currentFeed)
{var c=0;for(var j=0;j<currentFeed.dataStorageRaw.length;j++){if(currentFeed.dataStorageRaw[j].length()==0&&currentFeed.dataStorageRaw[j].locked==true){c++;}}
return(c==currentFeed.dataStorageRaw.length);}
wdi_front.mergeData=function(array1,array2)
{for(var i=0;i<array2.length;i++){if(typeof array1[i]!='undefined'){if(array2[i]['finished']=='finished'){continue;}
if(typeof array1[i]['pagination']['next_max_id']=='undefined'&&typeof array1[i]['pagination']['next_max_like_id']=='undefined'){continue;}
array1[i]['data']=array1[i]['data'].concat(array2[i]['data']);array1[i]['pagination']=array2[i]['pagination'];array1[i]['user_id']=array2[i]['user_id'];array1[i]['username']=array2[i]['username'];array1[i]['meta']=array2[i]['meta'];}else{array1.push(array2[i]);}}
return array1;}
wdi_front.brokenImageHandler=function(source)
{source.src=wdi_url.plugin_url+"../images/missing.png";source.onerror="";return true;}
wdi_front.ajaxLoader=function(currentFeed)
{var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var feed_container=jQuery('#wdi_feed_'+wdi_feed_counter);if(currentFeed.feed_row.feed_display_view=='load_more_btn'){feed_container.find('.wdi_load_more').addClass('wdi_hidden');feed_container.find('.wdi_spinner').removeClass('wdi_hidden');}
if(currentFeed.feed_row.feed_display_view=='infinite_scroll'){var loadingDiv;if(feed_container.find('.wdi_ajax_loading').length==0){loadingDiv=jQuery('<div class="wdi_ajax_loading"><div><div><img class="wdi_load_more_spinner" src="'+wdi_url.plugin_url+'../images/ajax_loader.png"></div></div></div>');feed_container.append(loadingDiv);}else{loadingDiv=feed_container.find('.wdi_ajax_loading');}
loadingDiv.removeClass('wdi_hidden');}}
wdi_front.allImagesLoaded=function(currentFeed)
{var dataLength=wdi_front.getDataLength(currentFeed);if(!currentFeed.mediaRequestsDone){jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").remove("wdi_nomedia");}
if(dataLength==0&&currentFeed.mediaRequestsDone&&(currentFeed.feed_row.conditional_filters.length==0||currentFeed.feed_row.conditional_filter_enable==0)){jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_wrapper").append("<p class='wdi_nomedia'>"+wdi_front_messages.feed_nomedia+"</p>");}
var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var feed_container=jQuery('#wdi_feed_'+wdi_feed_counter);if(currentFeed.feed_row.feed_display_view=='load_more_btn'){feed_container.find('.wdi_load_more').removeClass('wdi_hidden');feed_container.find('.wdi_spinner').addClass('wdi_hidden');}
if(currentFeed.feed_row.feed_display_view=='infinite_scroll'){jQuery('#wdi_feed_'+currentFeed.feed_row['wdi_feed_counter']+' .wdi_ajax_loading').addClass('wdi_hidden');}
feed_container.trigger('wdi_feed_loaded');}
wdi_front.show=function(name,currentFeed)
{var wdi_feed_counter=currentFeed.feed_row['wdi_feed_counter'];var feed_container=jQuery('#wdi_feed_'+wdi_feed_counter+' .wdi_feed_container');var _this=this;switch(name){case'header':{show_header();break;}
case'users':{show_users(currentFeed);break;}}
function show_header()
{var templateData={'feed_thumb':currentFeed['feed_row']['feed_thumb'],'feed_name':currentFeed['feed_row']['feed_name'],};var headerTemplate=wdi_front.getHeaderTemplate(),html=headerTemplate(templateData),containerHtml=feed_container.find('.wdi_feed_header').html();feed_container.find('.wdi_feed_header').html(containerHtml+html);}
function show_users(currentFeed)
{feed_container.find('.wdi_feed_users').html('');var users=currentFeed['feed_users'];var access_token=currentFeed['feed_row']['access_token'];var i=0;currentFeed.headerUserinfo=[];getThumb();function getThumb()
{if(currentFeed.headerUserinfo.length==users.length){escapeRequest(currentFeed.headerUserinfo,currentFeed);return;}
var _user=users[currentFeed.headerUserinfo.length];if(typeof _user==='string'&&_user==='self'){currentFeed.instagram.getSelfInfo({success:function(response)
{response=_this.checkMediaResponse(response);if(response!=false){var obj={id:response['data']['id'],name:response['data']['username'],url:response['data']['profile_picture'],bio:response['data']['bio'],counts:response['data']['counts'],website:response['data']['website'],full_name:response['data']['full_name']}
currentFeed.headerUserinfo.push(obj);i++;getThumb();}},args:{ignoreFiltering:true,}});}
else
if(_this.getInputType(_user.username)=='hashtag'){currentFeed.instagram.searchForTagsByName(_this.stripHashtag(_user.username),{success:function(response)
{response=_this.checkMediaResponse(response);if(response!=false){if(response['data'].length==0){var thumb_img='';var counts={media:''};}else{var thumb_img='';var counts={media:response['data'][0]['media_count']};}
var obj={name:users[i]['username'],url:thumb_img,counts:counts,};i++;currentFeed.headerUserinfo.push(obj);getThumb();}},args:{ignoreFiltering:true,}});}
else
if(_this.getInputType(_user.username)=='user'){currentFeed.instagram.getUserInfo(_user.id,{success:function(response)
{response=_this.checkMediaResponse(response);if(response!=false){var obj={id:response['data']['id'],name:response['data']['username'],url:response['data']['profile_picture'],bio:response['data']['bio'],counts:response['data']['counts'],website:response['data']['website'],full_name:response['data']['full_name']}
currentFeed.headerUserinfo.push(obj);i++;getThumb();}},args:{ignoreFiltering:true,}});}}
function escapeRequest(info,currentFeed)
{feed_container.find('.wdi_feed_users').html('');for(var k=0;k<info.length;k++){var userFilter={'flag':false,'id':info[k]['id'],'name':info[k]['name']};var hashtagClass=(info[k]['name'][0]=='#')?'wdi_header_hashtag':'';var templateData={'user_index':k,'user_img_url':info[k]['url'],'counts':info[k]["counts"],'feed_counter':currentFeed.feed_row.wdi_feed_counter,'user_name':info[k]['name'],'bio':info[k]['bio'],'usersCount':currentFeed.feed_row.feed_users.length,'hashtagClass':hashtagClass};var userTemplate=wdi_front.getUserTemplate(currentFeed,info[k]['name']),html=userTemplate(templateData),containerHtml=feed_container.find('.wdi_feed_users').html();feed_container.find('.wdi_feed_users').html(containerHtml+html);currentFeed.userSortFlags.push(userFilter);var clearFloat=jQuery('<div class="wdi_clear"></div>');}
feed_container.find('.wdi_feed_users').append(clearFloat);wdi_front.updateUsersImages(currentFeed);};}}
wdi_front.getUserTemplate=function(currentFeed,username)
{var usersCount=currentFeed.dataCount,instagramLink,instagramLinkOnClick,js;switch(username[0]){case'#':{instagramLink='//instagram.com/explore/tags/'+username.substr(1,username.length);break;}
default:{instagramLink='//instagram.com/'+username;break;}}
js='window.open("'+instagramLink+'","_blank")';instagramLinkOnClick="onclick='"+js+"'";var source='<div class="wdi_single_user" user_index="<%=user_index%>">'+'<div class="wdi_header_user_text <%=hashtagClass%>">'+'<div class="wdi_user_img_wrap">'+'<img onerror="wdi_front.brokenImageHandler(this);" src="<%= user_img_url%>">';if(usersCount>1){source+='<div  title="'+wdi_front_messages.filter_title+'" class="wdi_filter_overlay">'+'<div  class="wdi_filter_icon">'+'<span onclick="wdi_front.addFilter(<%=user_index%>,<%=feed_counter%>);" class="fa fa-filter"></span>'+'</div>'+'</div>';}
source+='</div>';source+='<h3 '+instagramLinkOnClick+'><%= user_name%></h3>';if(username[0]!=='#'){if(currentFeed.feed_row.follow_on_instagram_btn=='1'){source+='<div class="wdi_user_controls">'+'<div class="wdi_follow_btn" onclick="window.open(\'//instagram.com/<%= user_name%>\',\'_blank\')"><span> '+wdi_front_messages.follow+'</span></div>'+'</div>';}
source+='<div class="wdi_media_info">'+'<p class="wdi_posts"><span class="fa fa-camera-retro"><%= counts.media%></span></p>'+'<p class="wdi_followers"><span class="fa fa-user"><%= counts.followed_by%></span></p>'+'</div>';}else{source+='<div class="wdi_user_controls">'+'</div>'+'<div class="wdi_media_info">'+'<p class="wdi_posts"><span class="fa fa-camera-retro"><%= counts.media%></span></p>'+'<p class="wdi_followers"><span></span></p>'+'</div>';}
source+='<div class="wdi_clear"></div>';if(usersCount==1&&username[0]!=='#'&&currentFeed.feed_row.display_user_info=='1'){source+='<div class="wdi_bio"><%= bio%></div>';}
source+='</div>'+'</div>';var template=_.template(source);return template;}
wdi_front.getHeaderTemplate=function()
{var source='<div class="wdi_header_wrapper">'+'<div class="wdi_header_img_wrap">'+'<img src="<%=feed_thumb%>">'+'</div>'+'<div class="wdi_header_text"><%=feed_name%></div>'+'<div class="wdi_clear">'+'</div>';var template=_.template(source);return template;}
wdi_front.addFilter=function(index,feed_counter)
{var currentFeed=window['wdi_feed_'+feed_counter];var usersCount=currentFeed.dataCount;if(usersCount<2){return;}
if(currentFeed.nowLoadingImages!=false){return;}else{var userDiv=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+'_users [user_index="'+index+'"]');userDiv.find('.wdi_filter_overlay').toggleClass('wdi_filter_active_bg');userDiv.find('.wdi_header_user_text h3').toggleClass('wdi_filter_active_col');userDiv.find('.wdi_media_info').toggleClass('wdi_filter_active_col');userDiv.find('.wdi_follow_btn').toggleClass('wdi_filter_active_col');currentFeed.customFilterChanged=true;if(currentFeed.userSortFlags[index]['flag']==false){currentFeed.userSortFlags[index]['flag']=true;}else{currentFeed.userSortFlags[index]['flag']=false;}
var activeFilterCount=0;for(var j=0;j<currentFeed.userSortFlags.length;j++){if(currentFeed.userSortFlags[j]['flag']==true){activeFilterCount++;}}
if(currentFeed.feed_row.feed_display_view=='pagination'){currentFeed.resIndex=0;}
if(activeFilterCount!=0){wdi_front.filterData(currentFeed);wdi_front.displayFeed(currentFeed);}else{currentFeed.customFilteredData=currentFeed.dataStorageList;wdi_front.displayFeed(currentFeed);}
if(currentFeed.feed_row.feed_display_view=='pagination'){currentFeed.paginator=Math.ceil((currentFeed.imageIndex)/parseInt(currentFeed.feed_row.pagination_per_page_number));currentFeed.currentPage=currentFeed.paginator;wdi_front.updatePagination(currentFeed,'custom',1);jQuery('#wdi_first_page').removeClass('wdi_disabled');jQuery('#wdi_last_page').addClass('wdi_disabled');}}}
wdi_front.filterData=function(currentFeed)
{var users=currentFeed.userSortFlags;currentFeed.customFilteredData=[];for(var i=0;i<currentFeed.dataStorageList.length;i++){for(var j=0;j<users.length;j++){if((currentFeed.dataStorageList[i]['user']['id']==users[j]['id']||currentFeed.dataStorageList[i]['wdi_hashtag']==users[j]['name'])&&users[j]['flag']==true){currentFeed.customFilteredData.push(currentFeed.dataStorageList[i]);}}}}
wdi_front.applyFilters=function(currentFeed)
{for(var i=0;i<currentFeed.userSortFlags.length;i++){if(currentFeed.userSortFlags[i]['flag']==true){var userDiv=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+'[user_index="'+i+'"]');wdi_front.addFilter(i,currentFeed.feed_row.wdi_feed_counter);wdi_front.addFilter(i,currentFeed.feed_row.wdi_feed_counter);}}}
wdi_front.getImgCount=function(currentFeed)
{var dataStorage=currentFeed.dataStorage;var count=0;for(var i=0;i<dataStorage.length;i++){count+=dataStorage[i].length;}
return count;}
wdi_front.parseLighboxData=function(currentFeed,filterFlag)
{var dataStorage=currentFeed.dataStorage;var sortImagesBy=currentFeed.feed_row['sort_images_by'];var sortOrder=currentFeed.feed_row['display_order'];var sortOperator=wdi_front.sortingOperator(sortImagesBy,sortOrder);var data=[];var popupData=[];var obj={};if(filterFlag==true){data=currentFeed.customFilteredData;}else{for(var i=0;i<dataStorage.length;i++){for(var j=0;j<dataStorage[i].length;j++){data.push(dataStorage[i][j]);}}
data.sort(sortOperator);}
for(i=0;i<data.length;i++){obj={'alt':'','avg_rating':'','comment_count':data[i]['comments']['count'],'date':wdi_front.convertUnixDate(data[i]['created_time']),'description':wdi_front.getDescription((data[i]['caption']!==null)?data[i]['caption']['text']:''),'filename':wdi_front.getFileName(data[i]),'filetype':wdi_front.getFileType(data[i]),'hit_count':'0','id':data[i]['id'],'image_url':data[i]['link'],'number':0,'rate':'','rate_count':'0','username':data[i]['user']['username'],'profile_picture':data[i]['user']['profile_picture'],'thumb_url':data[i]['link']+'media/?size=t','comments_data':data[i]['comments']['data']}
popupData.push(obj);}
return popupData;}
wdi_front.convertUnixDate=function(date)
{var utcSeconds=parseInt(date);var newDate=new Date(0);newDate.setUTCSeconds(utcSeconds);var str=newDate.getFullYear()+'-'+newDate.getMonth()+'-'+newDate.getDate();str+=' '+newDate.getHours()+':'+newDate.getMinutes();return str;}
wdi_front.getDescription=function(desc)
{desc=desc.replace(/\r?\n|\r/g,' ');return desc;}
wdi_front.getFileName=function(data)
{var link=data['link'];var type=data['type'];if(type==='video'&&data.hasOwnProperty('videos')){return data['videos']['standard_resolution']['url'];}else{var linkFragments=link.split('/');return linkFragments[linkFragments.length-2];}}
wdi_front.getFileType=function(data)
{if(data['type']=='video'&&data.hasOwnProperty('videos')){return"EMBED_OEMBED_INSTAGRAM_VIDEO";}
else{return"EMBED_OEMBED_INSTAGRAM_IMAGE";}}
wdi_front.array_max=function(array)
{var max=array[0];var minIndex=0;for(var i=1;i<array.length;i++){if(max<array[i]){max=array[i];minIndex=i;}}
return{'value':max,'index':minIndex};}
wdi_front.array_min=function(array)
{var min=array[0];var minIndex=0;for(var i=1;i<array.length;i++){if(min>array[i]){min=array[i];minIndex=i;}}
return{'value':min,'index':minIndex};}
wdi_front.activeUsersCount=function(currentFeed)
{var counter=0;for(var i=0;i<currentFeed.usersData.length;i++){if(currentFeed.usersData[i].finished!='finished'){counter++;}}
return counter;}
wdi_front.checkMediaResponse=function(response)
{if(response==''||typeof response=='undefined'||response==null){errorMessage=wdi_front_messages.connection_error;wdi_front.show_alert(errorMessage);return false;}
if(response['meta']['code']!=200){errorMessage=response['meta']['error_message'];wdi_front.show_alert(errorMessage);return false;}
return response;}
wdi_front.stripHashtag=function(hashtag)
{switch(hashtag[0]){case'#':{return hashtag.substr(1,hashtag.length);break;}
default:{return hashtag;break;}}}
wdi_front.getInputType=function(input)
{switch(input[0]){case'#':{return'hashtag';break;}
case'%':{return'location';break;}
default:{return'user';break;}}}
wdi_front.regexpTestCaption=function(captionText,searchkey)
{var flag1=false,flag2=false,matchIndexes=[],escKey=searchkey.replace(/[-[\]{}()*+?.,\\^$|]/g,"\\$&"),regexp1=new RegExp("(?:^|\\s)"+escKey+"(?:^|\\s)"),regexp2=new RegExp("(?:^|\\s)"+escKey,'g');if(regexp1.exec(captionText)!=null){flag1=true;}
while((match=regexp2.exec(captionText))!=null){if(match.index==captionText.length-searchkey.length-1){flag2=true;}}
if(flag1==true||flag2==true){return true;}else{return false;}}
wdi_front.replaceNewLines=function(string)
{var delimeter="vUkCJvN2ps3t",matchIndexes=[],regexp;string=string.replace(/\r?\n|\r/g,delimeter);regexp=new RegExp(delimeter,'g');while((match=regexp.exec(string))!=null){matchIndexes.push(match.index);}
var pieces=string.split(delimeter);var foundFlag=0;for(var i=0;i<pieces.length;i++){if(pieces[i]==''){foundFlag++;}else{foundFlag=0;}
if(foundFlag>0){pieces.splice(i,1);foundFlag--;i--;}}
string=pieces.join(' ');return string;}
wdi_front.isEmptyObject=function(obj)
{for(var prop in obj){if(obj.hasOwnProperty(prop))
return false;}
return true}
var WDIFeed=function(obj)
{this['data']=obj['data'];this['dataCount']=obj['dataCount'];this['feed_row']=obj['feed_row'];this['usersData']=obj['usersData'];_this=this;this.set_images_loading_flag=function(_this)
{window.addEventListener('load',function()
{_this.nowLoadingImages=false;});}
this.set_images_loading_flag(_this);};WDIFeed.prototype.conditionalFilter=function(response,args)
{var currentFeed=this,conditional_filter_type=currentFeed.feed_row.conditional_filter_type,filters=currentFeed.feed_row.conditional_filters;if(args.ignoreFiltering==true){}else{response=this.avoidDuplicateMedia(response);}
if(!wdi_front.isJsonString(filters)){return response;}else{filters=JSON.parse(filters);if(filters.length==0){return response;}}
if(currentFeed.feed_row.conditional_filter_enable=='0'){return response;}
currentFeed.instagramRequestCounter++;switch(conditional_filter_type){case'AND':{response=this.applyANDLogic(response,filters,currentFeed);break;}
case'OR':{response=this.applyORLogic(response,filters,currentFeed)
break;}
case'NOR':{response=this.applyNORLogic(response,filters,currentFeed)
break;}
default:{break;}}
return response;}
WDIFeed.prototype.applyANDLogic=function(response,filters)
{var currentFeed=this;for(var i=0;i<filters.length;i++){response=this.filterResponse(response,filters[i]);}
return response;}
WDIFeed.prototype.applyORLogic=function(response,filters)
{var currentFeed=this;var allData=[],res,mergedData=[],returnObject,media;for(var i=0;i<filters.length;i++){res=this.filterResponse(response,filters[i]);allData=allData.concat(res['data']);res={};}
for(i=0;i<allData.length;i++){media=allData[i];if(!this.mediaExists(media,mergedData)&&!this.mediaExists(media,currentFeed.dataStorageList)){mergedData.push(media);}}
returnObject={data:mergedData,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.applyNORLogic=function(response,filters)
{var res=response,currentFeed=this,matchedData=this.applyORLogic(response,filters,currentFeed),mergedData=[],returnObject;for(var i=0;i<res['data'].length;i++){if(!this.mediaExists(res['data'][i],matchedData['data'])){mergedData.push(res['data'][i]);}}
returnObject={data:mergedData,meta:res['meta'],pagination:res['pagination']}
return returnObject;}
WDIFeed.prototype.mediaExists=function(media,array)
{for(var i=0;i<array.length;i++){if(media['id']==array[i]['id']){return true;}}
return false;}
WDIFeed.prototype.filterResponse=function(response,filter)
{switch(filter.filter_type){case'hashtag':{return this.filterByHashtag(response,filter);break;}
case'username':{return this.filterByUsername(response,filter);break;}
case'mention':{return this.filterByMention(response,filter);break;}
case'description':{return this.filterByDescription(response,filter);break;}
case'location':{return this.filterByLocation(response,filter);break;}
case'url':{return this.filterByUrl(response,filter);break;}}}
WDIFeed.prototype.filterByHashtag=function(response,filter)
{var filteredResponse=[],currentTag,media,returnObject;for(var i=0;i<response['data'].length;i++){media=response['data'][i];for(var j=0;j<media['tags'].length;j++){tag=media['tags'][j];if(tag.toLowerCase()==filter.filter_by.toLowerCase()){filteredResponse.push(media);}}}
returnObject={data:filteredResponse,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.filterByUsername=function(response,filter)
{var filteredResponse=[],media,returnObject;for(var i=0;i<response['data'].length;i++){media=response['data'][i];if(media.user.username.toLowerCase()==filter.filter_by.toLowerCase()){filteredResponse.push(media);}}
returnObject={data:filteredResponse,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.filterByMention=function(response,filter)
{var filteredResponse=[],media,captionText,returnObject;for(var i=0;i<response['data'].length;i++){media=response['data'][i];if(media['caption']!==null){captionText=media['caption']['text'].toLowerCase();if(captionText.indexOf('@'+filter.filter_by.toLowerCase())!=-1){filteredResponse.push(media);}}}
returnObject={data:filteredResponse,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.filterByDescription=function(response,filter)
{var filteredResponse=[],media,captionText,returnObject;for(var i=0;i<response['data'].length;i++){media=response['data'][i];if(media['caption']!==null){captionText=media['caption']['text'].toLowerCase();captionText=wdi_front.replaceNewLines(captionText);var searchkey=filter.filter_by.toLowerCase();if(wdi_front.regexpTestCaption(captionText,searchkey)){filteredResponse.push(media);}}}
returnObject={data:filteredResponse,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.filterByLocation=function(response,filter)
{var filteredResponse=[],media,locationId,returnObject;for(var i=0;i<response['data'].length;i++){media=response['data'][i];if(media['location']!==null){locationId=media['location']['id'];if(locationId==filter.filter_by){filteredResponse.push(media);}}}
returnObject={data:filteredResponse,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.filterByUrl=function(response,filter)
{var filteredResponse=[],media,id,returnObject,filter_by;filter.filter_by=this.getIdFromUrl(filter.filter_by);for(var i=0;i<response['data'].length;i++){media=response['data'][i];if(media['link']!==null){id=this.getIdFromUrl(media['link']);if(id==filter.filter_by){filteredResponse.push(media);}}}
returnObject={data:filteredResponse,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.getIdFromUrl=function(url)
{var url_parts=url.split('/'),id=false;for(var i=0;i<url_parts.length;i++){if(url_parts[i]=='p'){if(typeof url_parts[i+1]!='undefined'){id=url_parts[i+1];break;}}};return id;}
WDIFeed.prototype.avoidDuplicateMedia=function(response)
{var data=response['data'],uniqueData=[],returnObject={};if(typeof data=="undefined"){data=[];}
for(var i=0;i<data.length;i++){if(!this.mediaExists(data[i],this.dataStorageList)&&!this.mediaExists(data[i],uniqueData)&&!this.mediaExists(data[i],this.conditionalFilterBuffer)){uniqueData.push(data[i]);}}
this.conditionalFilterBuffer=this.conditionalFilterBuffer.concat(uniqueData);returnObject={data:uniqueData,meta:response['meta'],pagination:response['pagination']}
return returnObject;}
WDIFeed.prototype.storeRawData=function(objects,variable)
{var _this=this;if(typeof this[variable]=="object"&&typeof this[variable].length=="number"){for(var i=0;i<objects.length;i++){var hash_id="";if(wdi_front.isHashtag(objects[i].user_id)){hash_id=objects[i].pagination.next_max_tag_id;}
else
if(_this.feed_row.liked_feed=='liked'){hash_id=objects[i].pagination.next_max_like_id;if(typeof hash_id=="undefined"){hash_id="";}}
else{if(objects[i].pagination==null){objects[i].pagination=[];}
hash_id=objects[i].pagination.next_max_id;if(typeof hash_id=="undefined"){hash_id="";}}
if(typeof this[variable][i]=="undefined"){this[variable].push({data:objects[i].data,index:0,locked:false,hash_id:hash_id,usersDataFinished:false,userId:objects[i].user_id,length:function()
{return this.data.length-this.index;},getData:function(num)
{var data=this.data.slice(this.index,this.index+num);this.index+=Math.min(num,this.length());if(this.index==this.data.length&&this.locked==true&&this.usersDataFinished==false){for(var j=0;j<_this.usersData.length;j++){if(_this.usersData[j]['user_id']==this.userId){_this.usersData[j].finished="finished";this.usersDataFinished=true;break;}}}
return data;}});}else{if(this[variable][i].locked==false){if(hash_id!=this[variable][i].hash_id){this[variable][i].data=this[variable][i].data.concat(objects[i].data);this[variable][i].hash_id=hash_id;}else{this[variable][i].locked=true;}}}}}}
wdi_front.updateUsersIfNecessary=function(currentFeed)
{var users=currentFeed.feed_users;var ifUpdateNecessary=false;for(var i=0;i<users.length;i++){if("#"==users[i].username.substr(0,1)){users[i].id=users[i].username;continue;}
if(""==users[i].id||'username'==users[i].id){ifUpdateNecessary=true;currentFeed.instagram.searchForUsersByName(users[i].username,{success:function(res)
{if(res.meta.code==200&&res.data.length>0){var found=false;for(var k=0;k<res.data.length;k++){if(res.data[k].username==res.args.username){found=true;break;}}
if(found){for(var j=0;j<users.length;j++){if(res.data[k].username==users[j].username){users[j].id=res.data[k].id;}}}}
var noid_user_left=false;for(var m=0;m<users.length;m++){if(users[m].id==""||users[m].id=="username"){noid_user_left=true;break;}}
if(!noid_user_left){currentFeed.feed_row.feed_users=JSON.stringify(users);wdi_front.init(currentFeed);}},username:users[i].username});}}
return ifUpdateNecessary;}
if(typeof wdi_ajax.ajax_response!="undefined"){jQuery(document).one('ajaxStop',function()
{if(wdi_front['type']!='not_declared'){wdi_front.clickOrTouch=wdi_front.detectEvent();wdi_front.globalInit();}else{return;}});}
else{jQuery(document).ready(function()
{if(wdi_front['type']!='not_declared'){wdi_front.clickOrTouch=wdi_front.detectEvent();wdi_front.globalInit();}else{return;}});};
jQuery(document).ready(function()
{});function wdi_responsive()
{};wdi_responsive.columnControl=function(currentFeed,load,customWidth)
{currentFeed.openRows=[];if(load===1){var wrapper=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_wrapper");var itemWidth=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_item").css('width')+'';var containerWidth=wrapper.width();if(itemWidth.substr(itemWidth.length-2,itemWidth.length)=='px'){itemWidth=parseFloat(itemWidth);}else{itemWidth=0.01*containerWidth*parseFloat(itemWidth);}
if(currentFeed.feed_row.feed_type=='masonry'){var itemWidth=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_masonry_column").width();}
if(customWidth!=undefined){itemWidth=customWidth;}
var currentClass=wrapper.attr('wdi-res');var newClass=currentClass.substr(0,8)+Math.round(containerWidth/itemWidth);wrapper.removeClass(currentClass);wrapper.attr('wdi-res',newClass);wrapper.addClass(newClass);if(currentClass!=newClass){var colNum=newClass.substr(8,newClass.length);if(currentFeed.feed_row.feed_display_view=='pagination'){currentFeed.freeSpaces=(Math.floor(currentFeed.feed_row.pagination_per_page_number/Math.round(containerWidth/itemWidth))+1)*Math.round(containerWidth/itemWidth)-currentFeed.feed_row.pagination_per_page_number;if(currentFeed.freeSpaces%colNum==0){currentFeed.freeSpaces=0;}
currentFeed.resIndex=0;var k=0;jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_feed_item').each(function()
{jQuery(this).attr('wdi_res_index',currentFeed.resIndex);if((k+1)%currentFeed.feed_row.pagination_per_page_number===0){currentFeed.resIndex+=currentFeed.freeSpaces+1;}else{currentFeed.resIndex++;}
k++;});}}}else{jQuery(window).resize(function()
{var wrapper=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_wrapper");if(wrapper.length==0){return;}
var itemWidth=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_feed_item").css('width')+'';var containerWidth=wrapper.width();if(itemWidth.substr(itemWidth.length-2,itemWidth.length)=='px'){itemWidth=parseFloat(itemWidth);}else{itemWidth=0.01*containerWidth*parseFloat(itemWidth);}
var currentClass=wrapper.attr('wdi-res');if(currentFeed.feed_row.feed_type=='masonry'){var itemWidth=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+" .wdi_masonry_column").width();}
var newClass=currentClass.substr(0,8)+Math.round(containerWidth/itemWidth);wrapper.removeClass(currentClass);wrapper.attr('wdi-res',newClass);wrapper.addClass(newClass);if(currentFeed.feed_row.feed_type==='thumbnails'){wdi_responsive.fixRow(currentFeed);}
if(currentFeed.feed_row.feed_type==='masonry'){if(currentClass!=newClass){wdi_front.ajaxLoader(currentFeed);var colNum=newClass.substr(8,newClass.length);wrapper.html('');var newCols='';for(var i=0;i<colNum;i++){newCols+='<div class="wdi_masonry_column" wdi_mas_col="'+i+'"></div>';}
newCols+='<div class="wdi_clear">';wrapper.html(newCols);currentFeed.imageIndex=0;currentFeed.resIndex=0;var dataToBeDisplayed=currentFeed.displayedData;currentFeed.displayedData=[];wdi_front.masonryDisplayFeedItems(dataToBeDisplayed,currentFeed);wdi_front.applyFilters(currentFeed);}}
if(currentClass!=newClass){var colNum=newClass.substr(8,newClass.length);if(currentFeed.feed_row.feed_display_view=='pagination'){currentFeed.freeSpaces=(Math.floor(currentFeed.feed_row.number_of_photos/Math.round(containerWidth/itemWidth))+1)*Math.round(containerWidth/itemWidth)-currentFeed.feed_row.number_of_photos;if(currentFeed.freeSpaces%colNum==0){currentFeed.freeSpaces=0;}
currentFeed.resIndex=0;var k=0;jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_feed_item').each(function()
{jQuery(this).attr('wdi_res_index',currentFeed.resIndex);if((k+1)%currentFeed.feed_row.pagination_per_page_number===0){currentFeed.resIndex+=currentFeed.freeSpaces+1;}else{currentFeed.resIndex++;}
k++;});}}});}};wdi_responsive.bindCaptionEvent=function(imgtitle,currentFeed)
{}
wdi_responsive.bindMasonryCaptionEvent=function(imgtitle,currentFeed)
{}
wdi_responsive.showCaption=function(caption,currentFeedCounter)
{var currentFeed=window["wdi_feed_"+currentFeedCounter]
var imgItem=caption.parent().parent();if(currentFeed.feed_row.feed_display_view==='pagination'){var indexType='wdi_res_index';}else{var indexType='wdi_index';}
var imgIndex=imgItem.attr(indexType);var colClass=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_feed_wrapper').attr('wdi-res');var colNum=parseInt(colClass.substr(8,colClass.length));var imgBeforRows=Math.floor(imgIndex/colNum);var indexInRow=imgIndex-colNum*imgBeforRows;var indexes=[];for(var i=0;i<colNum;i++){var rowIndex=i+(imgBeforRows)*colNum;indexes.push(rowIndex);}
if(imgItem.hasClass('wdi_full_caption')){caption.css('white-space','nowrap');imgItem.removeClass('wdi_full_caption');}else{caption.css('white-space','normal');imgItem.addClass('wdi_full_caption');imgItem.attr('wdi_scroll_to',imgItem.offset().top-50);}
imgItem.css('height','auto');var maxHeight=0;for(var i=0;i<indexes.length;i++){var currentItem=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_feed_wrapper ['+indexType+'='+indexes[i]+']');currentItem.addClass('wdi_row_affected');currentItem.css('height','auto');if(maxHeight<currentItem.height()&&currentItem.hasClass('wdi_full_caption')){maxHeight=currentItem.height();}}
if(maxHeight==0){maxHeight=imgItem.height();}
for(var i=0;i<indexes.length;i++){var currentItem=jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_feed_wrapper ['+indexType+'='+indexes[i]+']');currentItem.height(maxHeight);}
currentFeed.affectedRow=true;}
wdi_responsive.fixRow=function(currentFeed)
{jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_row_affected').each(function()
{jQuery(this).css('height','auto');jQuery(this).removeClass('wdi_row_affected');});if(currentFeed.feed_row.feed_display_view==='pagination'){jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_full_caption').each(function()
{if(!jQuery(this).hasClass('wdi_hidden')){jQuery(this).find('.wdi_photo_title').trigger(wdi_front.clickOrTouch);jQuery(this).find('.wdi_photo_title').trigger(wdi_front.clickOrTouch);}});}else{jQuery('#wdi_feed_'+currentFeed.feed_row.wdi_feed_counter+' .wdi_full_caption').each(function()
{jQuery(this).find('.wdi_photo_title').trigger(wdi_front.clickOrTouch);jQuery(this).find('.wdi_photo_title').trigger(wdi_front.clickOrTouch);});}}
wdi_responsive.showMasonryCaption=function(caption,currentFeedCounter)
{var currentFeed=window["wdi_feed_"+currentFeedCounter];var imgItem=caption.parent().parent();if(imgItem.hasClass('wdi_full_caption')){caption.css('white-space','nowrap');imgItem.removeClass('wdi_full_caption');}else{imgItem.attr('wdi_scroll_to',imgItem.offset().top-50);caption.css('white-space','normal');imgItem.addClass('wdi_full_caption');}};
/*! jQuery Mobile v1.3.2 | Copyright 2010, 2013 jQuery Foundation, Inc. | jquery.org/license */
(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,t,n,r){function x(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function T(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=x(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function N(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function C(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function k(){g=!1}function L(){g=!0}function A(){E=0,v.length=0,m=!1,L()}function O(){k()}function M(){_(),c=setTimeout(function(){c=0,A()},e.vmouse.resetTimerDuration)}function _(){c&&(clearTimeout(c),c=0)}function D(t,n,r){var i;if(r&&r[t]||!r&&C(n.target,t))i=T(n,t),e(n.target).trigger(i);return i}function P(t){var n=e.data(t.target,s);if(!m&&(!E||E!==n)){var r=D("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function H(t){var n=x(t).touches,r,i;if(n&&n.length===1){r=t.target,i=N(r);if(i.hasVirtualBinding){E=w++,e.data(r,s,E),_(),O(),d=!1;var o=x(t).touches[0];h=o.pageX,p=o.pageY,D("vmouseover",t,i),D("vmousedown",t,i)}}}function B(e){if(g)return;d||D("vmousecancel",e,N(e.target)),d=!0,M()}function j(t){if(g)return;var n=x(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=N(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&D("vmousecancel",t,s),D("vmousemove",t,s),M()}function F(e){if(g)return;L();var t=N(e.target),n;D("vmouseup",e,t);if(!d){var r=D("vclick",e,t);r&&r.isDefaultPrevented()&&(n=x(e).changedTouches[0],v.push({touchID:E,x:n.clientX,y:n.clientY}),m=!0)}D("vmouseout",e,t),d=!1,M()}function I(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function q(){}function R(t){var n=t.substr(1);return{setup:function(r,s){I(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,P),e(this).bind(n,q),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",H).bind("touchend",F).bind("touchmove",j).bind("scroll",B))},teardown:function(r,s){--l[t],l[t]||b.unbind(n,P),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",H).unbind("touchmove",j).unbind("touchend",F).unbind("scroll",B));var o=e(this),u=e.data(this,i);u&&(u[t]=!1),o.unbind(n,q),I(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<o.length;U++)e.event.special[o[U]]=R(o[U]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)})(e,t,n),function(e){e.mobile={}}(e),function(e,t){var r={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function l(t,n,r){var i=r.type;r.type=n,e.event.dispatch.call(t,r),r.type=i}var i=e(n);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function s(e,n){r=n,l(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(o,function(t){if(!e.event.special.scrollstart.enabled)return;r||s(t,!0),clearTimeout(i),i=setTimeout(function(){s(t,!1)},50)})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,n=e(t);n.bind("vmousedown",function(r){function a(){clearTimeout(u)}function f(){a(),n.unbind("vclick",c).unbind("vmouseup",a),i.unbind("vmousecancel",f)}function c(e){f(),s===e.target&&l(t,"tap",e)}if(r.which&&r.which!==1)return!1;var s=r.target,o=r.originalEvent,u;n.bind("vmouseup",a).bind("vclick",c),i.bind("vmousecancel",f),u=setTimeout(function(){l(t,"taphold",e.Event("taphold",{target:s}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1000,horizontalDistanceThreshold:10,verticalDistanceThreshold:475,start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n){n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>n.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,n=e(t);n.bind(u,function(t){function o(t){if(!i)return;s=e.event.special.swipe.stop(t),Math.abs(i.coords[0]-s.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}var i=e.event.special.swipe.start(t),s;n.bind(f,o).one(a,function(){n.unbind(f,o),i&&s&&e.event.special.swipe.handleSwipe(i,s),i=s=r})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(e,this)});

(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
/*custom scrollbar*/
(function(c){var b={init:function(e){var f={set_width:false,set_height:false,horizontalScroll:false,scrollInertia:950,mouseWheel:true,mouseWheelPixels:"auto",autoDraggerLength:true,autoHideScrollbar:false,snapAmount:null,snapOffset:0,scrollButtons:{enable:false,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:true,updateOnContentResize:false,autoExpandHorizontalScroll:false,autoScrollOnFocus:true,normalizeMouseWheelDelta:false},contentTouchScroll:true,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},e=c.extend(true,f,e);return this.each(function(){var m=c(this);if(e.set_width){m.css("width",e.set_width)}if(e.set_height){m.css("height",e.set_height)}if(!c(document).data("mCustomScrollbar-index")){c(document).data("mCustomScrollbar-index","1")}else{var t=parseInt(c(document).data("mCustomScrollbar-index"));c(document).data("mCustomScrollbar-index",t+1)}m.wrapInner("<div class='mCustomScrollBox mCS-"+e.theme+"' id='mCSB_"+c(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+c(document).data("mCustomScrollbar-index"));var g=m.children(".mCustomScrollBox");if(e.horizontalScroll){g.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var k=g.children(".mCSB_h_wrapper");k.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:k.children().outerWidth(),position:"relative"}).unwrap()}else{g.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />")}var o=g.children(".mCSB_container");if(c.support.touch){o.addClass("mCS_touch")}o.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var l=g.children(".mCSB_scrollTools"),h=l.children(".mCSB_draggerContainer"),q=h.children(".mCSB_dragger");if(e.horizontalScroll){q.data("minDraggerWidth",q.width())}else{q.data("minDraggerHeight",q.height())}if(e.scrollButtons.enable){if(e.horizontalScroll){l.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>")}else{l.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")}}g.bind("scroll",function(){if(!m.is(".mCS_disabled")){g.scrollTop(0).scrollLeft(0)}});m.data({mCS_Init:true,mCustomScrollbarIndex:c(document).data("mCustomScrollbar-index"),horizontalScroll:e.horizontalScroll,scrollInertia:e.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:e.mouseWheel,mouseWheelPixels:e.mouseWheelPixels,autoDraggerLength:e.autoDraggerLength,autoHideScrollbar:e.autoHideScrollbar,snapAmount:e.snapAmount,snapOffset:e.snapOffset,scrollButtons_enable:e.scrollButtons.enable,scrollButtons_scrollType:e.scrollButtons.scrollType,scrollButtons_scrollSpeed:e.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:e.scrollButtons.scrollAmount,autoExpandHorizontalScroll:e.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:e.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:e.advanced.normalizeMouseWheelDelta,contentTouchScroll:e.contentTouchScroll,onScrollStart_Callback:e.callbacks.onScrollStart,onScroll_Callback:e.callbacks.onScroll,onTotalScroll_Callback:e.callbacks.onTotalScroll,onTotalScrollBack_Callback:e.callbacks.onTotalScrollBack,onTotalScroll_Offset:e.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:e.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:e.callbacks.whileScrolling,bindEvent_scrollbar_drag:false,bindEvent_content_touch:false,bindEvent_scrollbar_click:false,bindEvent_mousewheel:false,bindEvent_buttonsContinuous_y:false,bindEvent_buttonsContinuous_x:false,bindEvent_buttonsPixels_y:false,bindEvent_buttonsPixels_x:false,bindEvent_focusin:false,bindEvent_autoHideScrollbar:false,mCSB_buttonScrollRight:false,mCSB_buttonScrollLeft:false,mCSB_buttonScrollDown:false,mCSB_buttonScrollUp:false});if(e.horizontalScroll){if(m.css("max-width")!=="none"){if(!e.advanced.updateOnContentResize){e.advanced.updateOnContentResize=true}}}else{if(m.css("max-height")!=="none"){var s=false,r=parseInt(m.css("max-height"));if(m.css("max-height").indexOf("%")>=0){s=r,r=m.parent().height()*s/100}m.css("overflow","hidden");g.css("max-height",r)}}m.mCustomScrollbar("update");if(e.advanced.updateOnBrowserResize){var i,j=c(window).width(),u=c(window).height();c(window).bind("resize."+m.data("mCustomScrollbarIndex"),function(){if(i){clearTimeout(i)}i=setTimeout(function(){if(!m.is(".mCS_disabled")&&!m.is(".mCS_destroyed")){var w=c(window).width(),v=c(window).height();if(j!==w||u!==v){if(m.css("max-height")!=="none"&&s){g.css("max-height",m.parent().height()*s/100)}m.mCustomScrollbar("update");j=w;u=v}}},150)})}if(e.advanced.updateOnContentResize){var p;if(e.horizontalScroll){var n=o.outerWidth()}else{var n=o.outerHeight()}p=setInterval(function(){if(e.horizontalScroll){if(e.advanced.autoExpandHorizontalScroll){o.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:o.outerWidth(),position:"relative"}).unwrap()}var v=o.outerWidth()}else{var v=o.outerHeight()}if(v!=n){m.mCustomScrollbar("update");n=v}},300)}})},update:function(){var n=c(this),k=n.children(".mCustomScrollBox"),q=k.children(".mCSB_container");q.removeClass("mCS_no_scrollbar");n.removeClass("mCS_disabled mCS_destroyed");k.scrollTop(0).scrollLeft(0);var y=k.children(".mCSB_scrollTools"),o=y.children(".mCSB_draggerContainer"),m=o.children(".mCSB_dragger");if(n.data("horizontalScroll")){var A=y.children(".mCSB_buttonLeft"),t=y.children(".mCSB_buttonRight"),f=k.width();if(n.data("autoExpandHorizontalScroll")){q.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:q.outerWidth(),position:"relative"}).unwrap()}var z=q.outerWidth()}else{var w=y.children(".mCSB_buttonUp"),g=y.children(".mCSB_buttonDown"),r=k.height(),i=q.outerHeight()}if(i>r&&!n.data("horizontalScroll")){y.css("display","block");var s=o.height();if(n.data("autoDraggerLength")){var u=Math.round(r/i*s),l=m.data("minDraggerHeight");if(u<=l){m.css({height:l})}else{if(u>=s-10){var p=s-10;m.css({height:p})}else{m.css({height:u})}}m.children(".mCSB_dragger_bar").css({"line-height":m.height()+"px"})}var B=m.height(),x=(i-r)/(s-B);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().top);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else{if(z>f&&n.data("horizontalScroll")){y.css("display","block");var h=o.width();if(n.data("autoDraggerLength")){var j=Math.round(f/z*h),C=m.data("minDraggerWidth");if(j<=C){m.css({width:C})}else{if(j>=h-10){var e=h-10;m.css({width:e})}else{m.css({width:j})}}}var v=m.width(),x=(z-f)/(h-v);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().left);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else{k.unbind("mousewheel focusin");if(n.data("horizontalScroll")){m.add(q).css("left",0)}else{m.add(q).css("top",0)}y.css("display","none");q.addClass("mCS_no_scrollbar");n.data({bindEvent_mousewheel:false,bindEvent_focusin:false})}}},scrolling:function(h,p,m,j,w,e,A,v){var k=c(this);if(!k.data("bindEvent_scrollbar_drag")){var n,o;if(c.support.msPointer){j.bind("MSPointerDown",function(H){H.preventDefault();k.data({on_drag:true});j.addClass("mCSB_dragger_onDrag");var G=c(this),J=G.offset(),F=H.originalEvent.pageX-J.left,I=H.originalEvent.pageY-J.top;if(F<G.width()&&F>0&&I<G.height()&&I>0){n=I;o=F}});c(document).bind("MSPointerMove."+k.data("mCustomScrollbarIndex"),function(H){H.preventDefault();if(k.data("on_drag")){var G=j,J=G.offset(),F=H.originalEvent.pageX-J.left,I=H.originalEvent.pageY-J.top;D(n,o,I,F)}}).bind("MSPointerUp."+k.data("mCustomScrollbarIndex"),function(x){k.data({on_drag:false});j.removeClass("mCSB_dragger_onDrag")})}else{j.bind("mousedown touchstart",function(H){H.preventDefault();H.stopImmediatePropagation();var G=c(this),K=G.offset(),F,J;if(H.type==="touchstart"){var I=H.originalEvent.touches[0]||H.originalEvent.changedTouches[0];F=I.pageX-K.left;J=I.pageY-K.top}else{k.data({on_drag:true});j.addClass("mCSB_dragger_onDrag");F=H.pageX-K.left;J=H.pageY-K.top}if(F<G.width()&&F>0&&J<G.height()&&J>0){n=J;o=F}}).bind("touchmove",function(H){H.preventDefault();H.stopImmediatePropagation();var K=H.originalEvent.touches[0]||H.originalEvent.changedTouches[0],G=c(this),J=G.offset(),F=K.pageX-J.left,I=K.pageY-J.top;D(n,o,I,F)});c(document).bind("mousemove."+k.data("mCustomScrollbarIndex"),function(H){if(k.data("on_drag")){var G=j,J=G.offset(),F=H.pageX-J.left,I=H.pageY-J.top;D(n,o,I,F)}}).bind("mouseup."+k.data("mCustomScrollbarIndex"),function(x){k.data({on_drag:false});j.removeClass("mCSB_dragger_onDrag")})}k.data({bindEvent_scrollbar_drag:true})}function D(G,H,I,F){if(k.data("horizontalScroll")){k.mCustomScrollbar("scrollTo",(j.position().left-(H))+F,{moveDragger:true,trigger:"internal"})}else{k.mCustomScrollbar("scrollTo",(j.position().top-(G))+I,{moveDragger:true,trigger:"internal"})}}if(c.support.touch&&k.data("contentTouchScroll")){if(!k.data("bindEvent_content_touch")){var l,B,r,s,u,C,E;p.bind("touchstart",function(x){x.stopImmediatePropagation();l=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0];B=c(this);r=B.offset();u=l.pageX-r.left;s=l.pageY-r.top;C=s;E=u});p.bind("touchmove",function(x){x.preventDefault();x.stopImmediatePropagation();l=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0];B=c(this).parent();r=B.offset();u=l.pageX-r.left;s=l.pageY-r.top;if(k.data("horizontalScroll")){k.mCustomScrollbar("scrollTo",E-u,{trigger:"internal"})}else{k.mCustomScrollbar("scrollTo",C-s,{trigger:"internal"})}})}}if(!k.data("bindEvent_scrollbar_click")){m.bind("click",function(F){var x=(F.pageY-m.offset().top)*k.data("scrollAmount"),y=c(F.target);if(k.data("horizontalScroll")){x=(F.pageX-m.offset().left)*k.data("scrollAmount")}if(y.hasClass("mCSB_draggerContainer")||y.hasClass("mCSB_draggerRail")){k.mCustomScrollbar("scrollTo",x,{trigger:"internal",scrollEasing:"draggerRailEase"})}});k.data({bindEvent_scrollbar_click:true})}if(k.data("mouseWheel")){if(!k.data("bindEvent_mousewheel")){h.bind("mousewheel",function(H,J){var G,F=k.data("mouseWheelPixels"),x=Math.abs(p.position().top),I=j.position().top,y=m.height()-j.height();if(k.data("normalizeMouseWheelDelta")){if(J<0){J=-1}else{J=1}}if(F==="auto"){F=100+Math.round(k.data("scrollAmount")/2)}if(k.data("horizontalScroll")){I=j.position().left;y=m.width()-j.width();x=Math.abs(p.position().left)}if((J>0&&I!==0)||(J<0&&I!==y)){H.preventDefault();H.stopImmediatePropagation()}G=x-(J*F);k.mCustomScrollbar("scrollTo",G,{trigger:"internal"})});k.data({bindEvent_mousewheel:true})}}if(k.data("scrollButtons_enable")){if(k.data("scrollButtons_scrollType")==="pixels"){if(k.data("horizontalScroll")){v.add(A).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",i,g);k.data({bindEvent_buttonsContinuous_x:false});if(!k.data("bindEvent_buttonsPixels_x")){v.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().left)+k.data("scrollButtons_scrollAmount"))});A.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().left)-k.data("scrollButtons_scrollAmount"))});k.data({bindEvent_buttonsPixels_x:true})}}else{e.add(w).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",i,g);k.data({bindEvent_buttonsContinuous_y:false});if(!k.data("bindEvent_buttonsPixels_y")){e.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().top)+k.data("scrollButtons_scrollAmount"))});w.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().top)-k.data("scrollButtons_scrollAmount"))});k.data({bindEvent_buttonsPixels_y:true})}}function q(x){if(!j.data("preventAction")){j.data("preventAction",true);k.mCustomScrollbar("scrollTo",x,{trigger:"internal"})}}}else{if(k.data("horizontalScroll")){v.add(A).unbind("click");k.data({bindEvent_buttonsPixels_x:false});if(!k.data("bindEvent_buttonsContinuous_x")){v.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollRight:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().left)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var i=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollRight"))};v.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",i);A.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollLeft:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().left)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var g=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollLeft"))};A.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",g);k.data({bindEvent_buttonsContinuous_x:true})}}else{e.add(w).unbind("click");k.data({bindEvent_buttonsPixels_y:false});if(!k.data("bindEvent_buttonsContinuous_y")){e.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollDown:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().top)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var t=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollDown"))};e.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",t);w.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollUp:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().top)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var f=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollUp"))};w.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",f);k.data({bindEvent_buttonsContinuous_y:true})}}function z(){var x=k.data("scrollButtons_scrollSpeed");if(k.data("scrollButtons_scrollSpeed")==="auto"){x=Math.round((k.data("scrollInertia")+100)/40)}return x}}}if(k.data("autoScrollOnFocus")){if(!k.data("bindEvent_focusin")){h.bind("focusin",function(){h.scrollTop(0).scrollLeft(0);var x=c(document.activeElement);if(x.is("input,textarea,select,button,a[tabindex],area,object")){var G=p.position().top,y=x.position().top,F=h.height()-x.outerHeight();if(k.data("horizontalScroll")){G=p.position().left;y=x.position().left;F=h.width()-x.outerWidth()}if(G+y<0||G+y>F){k.mCustomScrollbar("scrollTo",y,{trigger:"internal"})}}});k.data({bindEvent_focusin:true})}}if(k.data("autoHideScrollbar")){if(!k.data("bindEvent_autoHideScrollbar")){h.bind("mouseenter",function(x){h.addClass("mCS-mouse-over");d.showScrollbar.call(h.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(x){h.removeClass("mCS-mouse-over");if(x.type==="mouseleave"){d.hideScrollbar.call(h.children(".mCSB_scrollTools"))}});k.data({bindEvent_autoHideScrollbar:true})}}},scrollTo:function(e,f){var i=c(this),o={moveDragger:false,trigger:"external",callbacks:true,scrollInertia:i.data("scrollInertia"),scrollEasing:i.data("scrollEasing")},f=c.extend(o,f),p,g=i.children(".mCustomScrollBox"),k=g.children(".mCSB_container"),r=g.children(".mCSB_scrollTools"),j=r.children(".mCSB_draggerContainer"),h=j.children(".mCSB_dragger"),t=draggerSpeed=f.scrollInertia,q,s,m,l;if(!k.hasClass("mCS_no_scrollbar")){i.data({mCS_trigger:f.trigger});if(i.data("mCS_Init")){f.callbacks=false}if(e||e===0){if(typeof(e)==="number"){if(f.moveDragger){p=e;if(i.data("horizontalScroll")){e=h.position().left*i.data("scrollAmount")}else{e=h.position().top*i.data("scrollAmount")}draggerSpeed=0}else{p=e/i.data("scrollAmount")}}else{if(typeof(e)==="string"){var v;if(e==="top"){v=0}else{if(e==="bottom"&&!i.data("horizontalScroll")){v=k.outerHeight()-g.height()}else{if(e==="left"){v=0}else{if(e==="right"&&i.data("horizontalScroll")){v=k.outerWidth()-g.width()}else{if(e==="first"){v=i.find(".mCSB_container").find(":first")}else{if(e==="last"){v=i.find(".mCSB_container").find(":last")}else{v=i.find(e)}}}}}}if(v.length===1){if(i.data("horizontalScroll")){e=v.position().left}else{e=v.position().top}p=e/i.data("scrollAmount")}else{p=e=v}}}if(i.data("horizontalScroll")){if(i.data("onTotalScrollBack_Offset")){s=-i.data("onTotalScrollBack_Offset")}if(i.data("onTotalScroll_Offset")){l=g.width()-k.outerWidth()+i.data("onTotalScroll_Offset")}if(p<0){p=e=0;clearInterval(i.data("mCSB_buttonScrollLeft"));if(!s){q=true}}else{if(p>=j.width()-h.width()){p=j.width()-h.width();e=g.width()-k.outerWidth();clearInterval(i.data("mCSB_buttonScrollRight"));if(!l){m=true}}else{e=-e}}var n=i.data("snapAmount");if(n){e=Math.round(e/n)*n-i.data("snapOffset")}d.mTweenAxis.call(this,h[0],"left",Math.round(p),draggerSpeed,f.scrollEasing);d.mTweenAxis.call(this,k[0],"left",Math.round(e),t,f.scrollEasing,{onStart:function(){if(f.callbacks&&!i.data("mCS_tweenRunning")){u("onScrollStart")}if(i.data("autoHideScrollbar")){d.showScrollbar.call(r)}},onUpdate:function(){if(f.callbacks){u("whileScrolling")}},onComplete:function(){if(f.callbacks){u("onScroll");if(q||(s&&k.position().left>=s)){u("onTotalScrollBack")}if(m||(l&&k.position().left<=l)){u("onTotalScroll")}}h.data("preventAction",false);i.data("mCS_tweenRunning",false);if(i.data("autoHideScrollbar")){if(!g.hasClass("mCS-mouse-over")){d.hideScrollbar.call(r)}}}})}else{if(i.data("onTotalScrollBack_Offset")){s=-i.data("onTotalScrollBack_Offset")}if(i.data("onTotalScroll_Offset")){l=g.height()-k.outerHeight()+i.data("onTotalScroll_Offset")}if(p<0){p=e=0;clearInterval(i.data("mCSB_buttonScrollUp"));if(!s){q=true}}else{if(p>=j.height()-h.height()){p=j.height()-h.height();e=g.height()-k.outerHeight();clearInterval(i.data("mCSB_buttonScrollDown"));if(!l){m=true}}else{e=-e}}var n=i.data("snapAmount");if(n){e=Math.round(e/n)*n-i.data("snapOffset")}d.mTweenAxis.call(this,h[0],"top",Math.round(p),draggerSpeed,f.scrollEasing);d.mTweenAxis.call(this,k[0],"top",Math.round(e),t,f.scrollEasing,{onStart:function(){if(f.callbacks&&!i.data("mCS_tweenRunning")){u("onScrollStart")}if(i.data("autoHideScrollbar")){d.showScrollbar.call(r)}},onUpdate:function(){if(f.callbacks){u("whileScrolling")}},onComplete:function(){if(f.callbacks){u("onScroll");if(q||(s&&k.position().top>=s)){u("onTotalScrollBack")}if(m||(l&&k.position().top<=l)){u("onTotalScroll")}}h.data("preventAction",false);i.data("mCS_tweenRunning",false);if(i.data("autoHideScrollbar")){if(!g.hasClass("mCS-mouse-over")){d.hideScrollbar.call(r)}}}})}if(i.data("mCS_Init")){i.data({mCS_Init:false})}}}function u(w){this.mcs={top:k.position().top,left:k.position().left,draggerTop:h.position().top,draggerLeft:h.position().left,topPct:Math.round((100*Math.abs(k.position().top))/Math.abs(k.outerHeight()-g.height())),leftPct:Math.round((100*Math.abs(k.position().left))/Math.abs(k.outerWidth()-g.width()))};switch(w){case"onScrollStart":i.data("mCS_tweenRunning",true).data("onScrollStart_Callback").call(i,this.mcs);break;case"whileScrolling":i.data("whileScrolling_Callback").call(i,this.mcs);break;case"onScroll":i.data("onScroll_Callback").call(i,this.mcs);break;case"onTotalScrollBack":i.data("onTotalScrollBack_Callback").call(i,this.mcs);break;case"onTotalScroll":i.data("onTotalScroll_Callback").call(i,this.mcs);break}}},stop:function(){var g=c(this),e=g.children().children(".mCSB_container"),f=g.children().children().children().children(".mCSB_dragger");d.mTweenAxisStop.call(this,e[0]);d.mTweenAxisStop.call(this,f[0])},disable:function(e){var j=c(this),f=j.children(".mCustomScrollBox"),h=f.children(".mCSB_container"),g=f.children(".mCSB_scrollTools"),i=g.children().children(".mCSB_dragger");f.unbind("mousewheel focusin mouseenter mouseleave touchend");h.unbind("touchstart touchmove");if(e){if(j.data("horizontalScroll")){i.add(h).css("left",0)}else{i.add(h).css("top",0)}}g.css("display","none");h.addClass("mCS_no_scrollbar");j.data({bindEvent_mousewheel:false,bindEvent_focusin:false,bindEvent_content_touch:false,bindEvent_autoHideScrollbar:false}).addClass("mCS_disabled")},destroy:function(){var e=c(this);e.removeClass("mCustomScrollbar _mCS_"+e.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove();c(document).unbind("mousemove."+e.data("mCustomScrollbarIndex")+" mouseup."+e.data("mCustomScrollbarIndex")+" MSPointerMove."+e.data("mCustomScrollbarIndex")+" MSPointerUp."+e.data("mCustomScrollbarIndex"));c(window).unbind("resize."+e.data("mCustomScrollbarIndex"))}},d={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(g,i,h,f,o,y){var y=y||{},v=y.onStart||function(){},p=y.onUpdate||function(){},w=y.onComplete||function(){};var n=t(),l,j=0,r=g.offsetTop,s=g.style;if(i==="left"){r=g.offsetLeft}var m=h-r;q();e();function t(){if(window.performance&&window.performance.now){return window.performance.now()}else{if(window.performance&&window.performance.webkitNow){return window.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return new Date().getTime()}}}}function x(){if(!j){v.call()}j=t()-n;u();if(j>=g._time){g._time=(j>g._time)?j+l-(j-g._time):j+l-1;if(g._time<j+1){g._time=j+1}}if(g._time<f){g._id=_request(x)}else{w.call()}}function u(){if(f>0){g.currVal=k(g._time,r,m,f,o);s[i]=Math.round(g.currVal)+"px"}else{s[i]=h+"px"}p.call()}function e(){l=1000/60;g._time=j+l;_request=(!window.requestAnimationFrame)?function(z){u();return setTimeout(z,0.01)}:window.requestAnimationFrame;g._id=_request(x)}function q(){if(g._id==null){return}if(!window.requestAnimationFrame){clearTimeout(g._id)}else{window.cancelAnimationFrame(g._id)}g._id=null}function k(B,A,F,E,C){switch(C){case"linear":return F*B/E+A;break;case"easeOutQuad":B/=E;return -F*B*(B-2)+A;break;case"easeInOutQuad":B/=E/2;if(B<1){return F/2*B*B+A}B--;return -F/2*(B*(B-2)-1)+A;break;case"easeOutCubic":B/=E;B--;return F*(B*B*B+1)+A;break;case"easeOutQuart":B/=E;B--;return -F*(B*B*B*B-1)+A;break;case"easeOutQuint":B/=E;B--;return F*(B*B*B*B*B+1)+A;break;case"easeOutCirc":B/=E;B--;return F*Math.sqrt(1-B*B)+A;break;case"easeOutSine":return F*Math.sin(B/E*(Math.PI/2))+A;break;case"easeOutExpo":return F*(-Math.pow(2,-10*B/E)+1)+A;break;case"mcsEaseOut":var D=(B/=E)*B,z=D*B;return A+F*(0.499999999999997*z*D+-2.5*D*D+5.5*z+-6.5*D+4*B);break;case"draggerRailEase":B/=E/2;if(B<1){return F/2*B*B*B+A}B-=2;return F/2*(B*B*B+2)+A;break}}},mTweenAxisStop:function(e){if(e._id==null){return}if(!window.requestAnimationFrame){clearTimeout(e._id)}else{window.cancelAnimationFrame(e._id)}e._id=null},rafPolyfill:function(){var f=["ms","moz","webkit","o"],e=f.length;while(--e>-1&&!window.requestAnimationFrame){window.requestAnimationFrame=window[f[e]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[f[e]+"CancelAnimationFrame"]||window[f[e]+"CancelRequestAnimationFrame"]}}};d.rafPolyfill.call();c.support.touch=!!("ontouchstart" in window);c.support.msPointer=window.navigator.msPointerEnabled;var a=("https:"==document.location.protocol)?"https:":"http:";c.event.special.mousewheel||document.write('<script src="'+a+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>');c.fn.mCustomScrollbar=function(e){if(b[e]){return b[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return b.init.apply(this,arguments)}else{c.error("Method "+e+" does not exist")}}}})(jQuery);
;(function($){function defined(a){return typeof a!=='undefined';}
function extend(child,parent,prototype){var F=function(){};F.prototype=parent.prototype;child.prototype=new F();child.prototype.constructor=child;parent.prototype.constructor=parent;child._super=parent.prototype;if(prototype){$.extend(child.prototype,prototype);}}
var SUBST=[['',''],['exit','cancel'],['screen','Screen']];var VENDOR_PREFIXES=['','o','ms','moz','webkit','webkitCurrent'];function native(obj,name){var prefixed;if(typeof obj==='string'){name=obj;obj=document;}
for(var i=0;i<SUBST.length;++i){name=name.replace(SUBST[i][0],SUBST[i][1]);for(var j=0;j<VENDOR_PREFIXES.length;++j){prefixed=VENDOR_PREFIXES[j];prefixed+=j===0?name:name.charAt(0).toUpperCase()+name.substr(1);if(defined(obj[prefixed])){return obj[prefixed];}}}
return void 0;}var ua=navigator.userAgent;var fsEnabled=native('fullscreenEnabled');var IS_ANDROID_CHROME=ua.indexOf('Android')!==-1&&ua.indexOf('Chrome')!==-1;var IS_NATIVELY_SUPPORTED=!IS_ANDROID_CHROME&&defined(native('fullscreenElement'))&&(!defined(fsEnabled)||fsEnabled===true);var version=$.fn.jquery.split('.');var JQ_LT_17=(parseInt(version[0])<2&&parseInt(version[1])<7);var FullScreenAbstract=function(){this.__options=null;this._fullScreenElement=null;this.__savedStyles={};};FullScreenAbstract.prototype={_DEFAULT_OPTIONS:{styles:{'boxSizing':'border-box','MozBoxSizing':'border-box','WebkitBoxSizing':'border-box'},toggleClass:null},__documentOverflow:'',__htmlOverflow:'',_preventDocumentScroll:function(){this.__documentOverflow=$('body')[0].style.overflow;this.__htmlOverflow=$('html')[0].style.overflow;},_allowDocumentScroll:function(){},_fullScreenChange:function(){if(!this.isFullScreen()){this._allowDocumentScroll();this._revertStyles();this._triggerEvents();this._fullScreenElement=null;}else{this._preventDocumentScroll();this._triggerEvents();}},_fullScreenError:function(e){this._revertStyles();this._fullScreenElement=null;if(e){$(document).trigger('fscreenerror',[e]);}},_triggerEvents:function(){$(this._fullScreenElement).trigger(this.isFullScreen()?'fscreenopen':'fscreenclose');$(document).trigger('fscreenchange',[this.isFullScreen(),this._fullScreenElement]);},_saveAndApplyStyles:function(){var $elem=$(this._fullScreenElement);this.__savedStyles={};for(var property in this.__options.styles){this.__savedStyles[property]=this._fullScreenElement.style[property];this._fullScreenElement.style[property]=this.__options.styles[property];}
if(this.__options.toggleClass){$elem.addClass(this.__options.toggleClass);}},_revertStyles:function(){var $elem=$(this._fullScreenElement);for(var property in this.__options.styles){this._fullScreenElement.style[property]=this.__savedStyles[property];}
if(this.__options.toggleClass){$elem.removeClass(this.__options.toggleClass);}},open:function(elem,options){if(elem===this._fullScreenElement){return;}
if(this.isFullScreen()){this.exit();}
this._fullScreenElement=elem;this.__options=$.extend(true,{},this._DEFAULT_OPTIONS,options);this._saveAndApplyStyles();},exit:null,isFullScreen:null,isNativelySupported:function(){return IS_NATIVELY_SUPPORTED;}};var FullScreenNative=function(){FullScreenNative._super.constructor.apply(this,arguments);this.exit=$.proxy(native('exitFullscreen'),document);this._DEFAULT_OPTIONS=$.extend(true,{},this._DEFAULT_OPTIONS,{'styles':{'width':'100%','height':'100%'}});$(document).bind(this._prefixedString('fullscreenchange')+' MSFullscreenChange',$.proxy(this._fullScreenChange,this)).bind(this._prefixedString('fullscreenerror')+' MSFullscreenError',$.proxy(this._fullScreenError,this));};extend(FullScreenNative,FullScreenAbstract,{VENDOR_PREFIXES:['','o','moz','webkit'],_prefixedString:function(str){return $.map(this.VENDOR_PREFIXES,function(s){return s+str;}).join(' ');},open:function(elem,options){FullScreenNative._super.open.apply(this,arguments);var requestFS=native(elem,'requestFullscreen');requestFS.call(elem);},exit:$.noop,isFullScreen:function(){return native('fullscreenElement')!==null;},element:function(){return native('fullscreenElement');}});var FullScreenFallback=function(){FullScreenFallback._super.constructor.apply(this,arguments);this._DEFAULT_OPTIONS=$.extend({},this._DEFAULT_OPTIONS,{'styles':{'position':'fixed','zIndex':'2147483647','left':0,'top':0,'bottom':0,'right':0}});this.__delegateKeydownHandler();};extend(FullScreenFallback,FullScreenAbstract,{__isFullScreen:false,__delegateKeydownHandler:function(){var $doc=$(document);$doc.delegate('*','keydown.fullscreen',$.proxy(this.__keydownHandler,this));var data=JQ_LT_17?$doc.data('events'):$._data(document).events;var events=data['keydown'];if(!JQ_LT_17){events.splice(0,0,events.splice(events.delegateCount-1,1)[0]);}else{data.live.unshift(data.live.pop());}},__keydownHandler:function(e){if(this.isFullScreen()&&e.which===27){this.exit();return false;}
return true;},_revertStyles:function(){FullScreenFallback._super._revertStyles.apply(this,arguments);this._fullScreenElement.offsetHeight;},open:function(elem){FullScreenFallback._super.open.apply(this,arguments);this.__isFullScreen=true;this._fullScreenChange();},exit:function(){this.__isFullScreen=false;this._fullScreenChange();},isFullScreen:function(){return this.__isFullScreen;},element:function(){return this.__isFullScreen?this._fullScreenElement:null;}});$.fullscreen=IS_NATIVELY_SUPPORTED?new FullScreenNative():new FullScreenFallback();$.fn.fullscreen=function(options){var elem=this[0];options=$.extend({toggleClass:null,},options);options.styles={};if(elem){$.fullscreen.open(elem,options);}
return this;};})(jQuery);
var isPopUpOpened=false;function wdi_spider_createpopup(url,current_view,width,height,duration,description,lifetime,currentFeed)
{url=url.replace(/&#038;/g,'&');if(isPopUpOpened){return};isPopUpOpened=true;if(wdi_spider_hasalreadyreceivedpopup(description)||wdi_spider_isunsupporteduseragent()){return;}
jQuery("html").attr("style","overflow:hidden !important;");jQuery("#wdi_spider_popup_loading_"+current_view).css({display:"block"});jQuery("#wdi_spider_popup_overlay_"+current_view).css({display:"block"});jQuery.ajax({type:'POST',url:url,dataType:'text',data:{action:'WDIGalleryBox',image_rows:JSON.stringify(currentFeed.parsedData),feed_id:currentFeed.feed_row['id'],feed_counter:currentFeed.feed_row['wdi_feed_counter'],},success:function(response)
{var popup=jQuery('<div id="wdi_spider_popup_wrap" class="wdi_spider_popup_wrap" style="'+' width:'+width+'px;'+' height:'+height+'px;'+' margin-top:-'+height/2+'px;'+' margin-left: -'+width/2+'px; ">'+
response+'</div>').hide().appendTo("body");wdi_spider_showpopup(description,lifetime,popup,duration);jQuery("#wdi_spider_popup_loading_"+current_view).css({display:"none !important;"});}});}
function wdi_spider_showpopup(description,lifetime,popup,duration)
{isPopUpOpened=true;popup.show();wdi_spider_receivedpopup(description,lifetime);}
function wdi_spider_hasalreadyreceivedpopup(description)
{if(document.cookie.indexOf(description)>-1){delete document.cookie[document.cookie.indexOf(description)];}
return false;}
function wdi_spider_receivedpopup(description,lifetime)
{var date=new Date();date.setDate(date.getDate()+lifetime);document.cookie=description+"=true;expires="+date.toUTCString()+";path=/";}
function wdi_spider_isunsupporteduseragent()
{return(!window.XMLHttpRequest);}
function wdi_spider_destroypopup(duration)
{if(document.getElementById("wdi_spider_popup_wrap")!=null){wdi_comments_manager.popup_destroyed();if(typeof jQuery().fullscreen!=='undefined'&&jQuery.isFunction(jQuery().fullscreen)){if(jQuery.fullscreen.isFullScreen()){jQuery.fullscreen.exit();}}
if(typeof enable_addthis!="undefined"&&enable_addthis){jQuery(".at4-share-outer").hide();}
setTimeout(function()
{jQuery(".wdi_spider_popup_wrap").remove();jQuery(".wdi_spider_popup_loading").css({display:"none"});jQuery(".wdi_spider_popup_overlay").css({display:"none"});jQuery(document).off("keydown");jQuery("html").attr("style","");},20);}
isPopUpOpened=false;var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var viewportmeta=document.querySelector('meta[name="viewport"]');if(isMobile&&viewportmeta){viewportmeta.content='width=device-width, initial-scale=1';}
var scrrr=jQuery(document).scrollTop();window.location.hash="";jQuery(document).scrollTop(scrrr);if(typeof wdi_playInterval!='undefined'){clearInterval(wdi_playInterval);}}
Object.size=function(obj)
{var size=0,key;for(key in obj){if(obj.hasOwnProperty(key))size++;}
return size;};function wdi_spider_ajax_save(form_id,image_id)
{wdi_comments_manager.init(image_id);return false;}
wdi_comments_manager={media_id:'',mediaComments:[],load_more_count:10,commentCounter:0,currentKey:-1,init:function(image_id)
{this.instagram=new WDIInstagram();this.instagram.addToken(wdi_front.access_token);if(this.currentKey!=image_id){this.currentKey=image_id;this.reset_comments();}else{}},reset_comments:function()
{jQuery('#wdi_load_more_comments').remove();jQuery('#wdi_added_comments').html('');this.commentCounter=0;this.media_id=wdi_data[this.currentKey]['id'];this.getAjaxComments(this.currentKey);},popup_destroyed:function()
{this.media_id='';this.mediaComments=[];this.commentCounter=0;this.currentKey=-1;},showComments:function(comments,count)
{if(Object.size(comments)-this.commentCounter-count<0||count===undefined){count=Object.size(comments)-this.commentCounter;}
var counter=this.commentCounter;for(i=Object.size(comments)-counter-1;i>=Object.size(comments)-counter-count;i--){this.commentCounter++;var commentText=(comments[i]['text']);commentText=this.filterCommentText(commentText);var username=(comments[i]['from']['username']);var profile_picture=(comments[i]['from']['profile_picture']);var singleComment=jQuery('<div class="wdi_single_comment"></div>');singleComment.append(jQuery('<p class="wdi_comment_header_p"><span class="wdi_comment_header"><a target="_blank" href="//instagram.com/'+username+'"><img style="height:25px;width:25px;border-radius:25px" src="'+profile_picture+'">   '+username+'</a></span><span class="wdi_comment_date">'+wdi_front.convertUnixDate(comments[i]['created_time'])+'</span></p>'));singleComment.append(jQuery('<div class="wdi_comment_body_p"><span class="wdi_comment_body"><p>'+commentText+'</p></span></div>'));jQuery('#wdi_added_comments').prepend(singleComment);}
this.updateScrollbar();},updateScrollbar:function()
{var wdi_comments=jQuery('#wdi_comments');var wdi_added_comments=jQuery('#wdi_added_comments');jQuery('.wdi_comments').attr('class','wdi_comments');jQuery('.wdi_comments').html('');jQuery('.wdi_comments').append(wdi_comments);jQuery('.wdi_comments').append(wdi_added_comments);if(typeof jQuery().mCustomScrollbar!=='undefined'){if(jQuery.isFunction(jQuery().mCustomScrollbar)){jQuery(".wdi_comments").mCustomScrollbar({scrollInertia:250});}}
jQuery('.wdi_comments_close_btn').on('click',wdi_comment);},getAjaxComments:function()
{this.instagram.getRecentMediaComments(this.media_id,{success:function(response)
{if(response==''||response==undefined||response==null){errorMessage='Network Error, please try again later :(';wdi_front.show_alert(errorMessage);return;}
if(response['meta']['code']!=200){errorMessage=response['meta']['error_message'];wdi_front.show_alert(errorMessage);return;}
wdi_comments_manager.mediaComments=response['data'];var currentImage=wdi_data[wdi_comments_manager.currentKey];currentImage['comments_data']=response['data'];wdi_comments_manager.showComments(currentImage['comments_data'],wdi_comments_manager.load_more_count);wdi_comments_manager.ajax_comments_ready(response['data']);}});},ajax_comments_ready:function(response)
{this.createLoadMoreAndBindEvent();},createLoadMoreAndBindEvent:function()
{jQuery('#wdi_added_comments').prepend(jQuery('<p id="wdi_load_more_comments" class="wdi_load_more_comments">load more comments</p>'));jQuery('.wdi_comment_container #wdi_load_more_comments').on('click',function()
{jQuery(this).remove();wdi_comments_manager.showComments(wdi_comments_manager.mediaComments,wdi_comments_manager.load_more_count);wdi_comments_manager.createLoadMoreAndBindEvent();});},filterCommentText:function(comment)
{var commentArray=comment.split(' ');var commStr='';for(var i=0;i<commentArray.length;i++){switch(commentArray[i][0]){case'@':{commStr+='<a target="blank" class="wdi_comm_text_link" href="//instagram.com/'+commentArray[i].substring(1,commentArray[i].length)+'">'+commentArray[i]+'</a> ';break;}
case'#':{commStr+='<a target="blank" class="wdi_comm_text_link" href="//instagram.com/explore/tags/'+commentArray[i].substring(1,commentArray[i].length)+'">'+commentArray[i]+'</a> ';break;}
default:{commStr+=commentArray[i]+' ';}}}
commStr=commStr.substring(0,commStr.length-1);return commStr;}}
function wdi_spider_set_input_value(input_id,input_value)
{if(document.getElementById(input_id)){document.getElementById(input_id).value=input_value;}}
function wdi_spider_form_submit(event,form_id)
{if(document.getElementById(form_id)){document.getElementById(form_id).submit();}
if(event.preventDefault){event.preventDefault();}else{event.returnValue=false;}}
function wdi_spider_check_required(id,name)
{if(jQuery('#'+id).val()==''){wdi_front.show_alert(name+'* '+wdi_objectL10n.wdi_field_required);jQuery('#'+id).attr('style','border-color: #FF0000;');jQuery('#'+id).focus();return true;}else{return false;}}
function wdi_spider_check_email(id)
{if(jQuery('#'+id).val()!=''){var email=jQuery('#'+id).val().replace(/^\s+|\s+$/g,'');if(email.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)==-1){wdi_front.show_alert(wdi_objectL10n.wdi_mail_validation);return true;}
return false;}}
function wdi_captcha_refresh(id)
{if(document.getElementById(id+"_img")&&document.getElementById(id+"_input")){srcArr=document.getElementById(id+"_img").src.split("&r=");document.getElementById(id+"_img").src=srcArr[0]+'&r='+Math.floor(Math.random()*100);document.getElementById(id+"_img").style.display="inline-block";document.getElementById(id+"_input").value="";}}
function wdi_play_pause($this)
{var video=$this.get(0);var regex=/firefox/i;var firefox=false;if(navigator.userAgent.match(regex)){firefox=true;}
if(!firefox){if(!video.paused){video.pause();}else{video.play();}}}
function wdi_spider_display_embed(embed_type,embed_id,attrs){var html_to_insert='';switch(embed_type){case'EMBED_OEMBED_YOUTUBE_VIDEO':var oembed_youtube_html='<iframe ';if(embed_id!=''){oembed_youtube_html+=' src="'+'//www.youtube.com/embed/'+embed_id+'?enablejsapi=1&wmode=transparent"';}
for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_youtube_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_youtube_html+=" ></iframe>";html_to_insert+=oembed_youtube_html;break;case'EMBED_OEMBED_VIMEO_VIDEO':var oembed_vimeo_html='<iframe ';if(embed_id!=''){oembed_vimeo_html+=' src="'+'//player.vimeo.com/video/'+embed_id+'?enablejsapi=1"';}
for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_vimeo_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_vimeo_html+=" ></iframe>";html_to_insert+=oembed_vimeo_html;break;case'EMBED_OEMBED_FLICKR_IMAGE':var oembed_flickr_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_flickr_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_flickr_html+=" >";if(embed_id!=''){oembed_flickr_html+='<img src="'+embed_id+'"'+' style="'+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'auto !important'+'; height:'+'auto !important'+';">';}
oembed_flickr_html+="</div>";html_to_insert+=oembed_flickr_html;break;case'EMBED_OEMBED_FLICKR_VIDEO':break;case'EMBED_OEMBED_INSTAGRAM_VIDEO':var oembed_instagram_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_instagram_html+=" >";if(embed_id!=''){oembed_instagram_html+='<video onclick=\"wdi_play_pause(jQuery(this));\" style="width:auto !important; height:auto !important; max-width:100% !important; max-height:100% !important; margin:0 !important;" controls>'+'<source src="'+embed_id+'" type="video/mp4"> Your browser does not support the video tag. </video>';}
oembed_instagram_html+="</div>";html_to_insert+=oembed_instagram_html;break;case'EMBED_OEMBED_INSTAGRAM_IMAGE':var oembed_instagram_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_instagram_html+=" >";if(embed_id!=''){oembed_instagram_html+='<img src="//instagram.com/p/'+embed_id+'/media/?size=l"'+' style=" '+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'auto'+'; height:'+'auto'+';">';}
oembed_instagram_html+="</div>";html_to_insert+=oembed_instagram_html;break;case'EMBED_OEMBED_INSTAGRAM_POST':var oembed_instagram_html='<div ';var id='';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';if(attr=='CLASS'||attr=='class'||attr=='Class'){obj_class=attrs[attr];}}}}
oembed_instagram_html+=" >";if(embed_id!=''){oembed_instagram_html+='<iframe class="inner_instagram_iframe_'+obj_class+'" src="//instagr.am/p/'+embed_id+'/embed/?enablejsapi=1"'+' style="'+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'100%'+'; height:'+'100%'+'; margin:0'+'; display:table-cell; vertical-align:middle;"'+'frameborder="0" scrolling="no" allowtransparency="false" allowfullscreen'+'></iframe>';}
oembed_instagram_html+="</div>";html_to_insert+=oembed_instagram_html;break;case'EMBED_OEMBED_DAILYMOTION_VIDEO':var oembed_dailymotion_html='<iframe ';if(embed_id!=''){oembed_dailymotion_html+=' src="'+'//www.dailymotion.com/embed/video/'+embed_id+'?api=postMessage"';}
for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_dailymotion_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_dailymotion_html+=" ></iframe>";html_to_insert+=oembed_dailymotion_html;break;case'EMBED_OEMBED_IMGUR':var oembed_imgur_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_imgur_html+=" >";if(embed_id!=''){oembed_imgur_html+='<img src="'+embed_id+'"'+' style="'+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'auto'+'; height:'+'auto'+" !important"+';">';}
oembed_imgur_html+="</div>";html_to_insert+=oembed_imgur_html;break;default:;}
return html_to_insert;};